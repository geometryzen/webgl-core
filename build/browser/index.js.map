{"version":3,"file":"index.js","sources":["../module/index.js","../module/lib/loaders/TextureLoader.js","../module/lib/checks/mustBeFunction.js","../module/lib/checks/isFunction.js","../module/lib/collections/StringShareableMap.js","../module/lib/collections/NumberShareableMap.js","../module/lib/materials/HTMLScriptsMaterial.js","../module/lib/materials/ShaderMaterial.js","../module/lib/core/makeWebGLProgram.js","../module/lib/core/Engine.js","../module/lib/commands/VersionLogger.js","../module/lib/core/initWebGL.js","../module/lib/core/checkEnums.js","../module/lib/core/Uniform.js","../module/lib/checks/mustBeObject.js","../module/lib/core/TextureWrapMode.js","../module/lib/core/TextureTarget.js","../module/lib/core/TextureMinFilter.js","../module/lib/core/TextureMagFilter.js","../module/lib/core/Shader.js","../module/lib/core/makeWebGLShader.js","../module/lib/core/Scene.js","../module/lib/collections/ShareableArray.js","../module/lib/core/PixelType.js","../module/lib/core/ImageTexture.js","../module/lib/core/Texture.js","../module/lib/core/TextureParameterName.js","../module/lib/core/PixelFormat.js","../module/lib/core/GraphicsProgramSymbols.js","../module/lib/core/GeometryElements.js","../module/lib/checks/mustBeArray.js","../module/lib/checks/isArray.js","../module/lib/core/IndexBuffer.js","../module/lib/core/GeometryArrays.js","../module/lib/core/VertexBuffer.js","../module/lib/checks/mustBeUndefined.js","../module/lib/checks/isUndefined.js","../module/lib/core/BufferObjects.js","../module/lib/core/vertexArraysFromPrimitive.js","../module/lib/core/computeStride.js","../module/lib/core/computePointers.js","../module/lib/core/computeAttributes.js","../module/lib/core/computeCount.js","../module/lib/core/Usage.js","../module/lib/core/GeometryBase.js","../module/lib/core/ShareableContextConsumer.js","../module/lib/checks/mustBeNonNullObject.js","../module/lib/checks/isObject.js","../module/lib/checks/isNull.js","../module/lib/i18n/notSupported.js","../module/lib/checks/mustBeDefined.js","../module/lib/core/DepthFunction.js","../module/lib/core/DataType.js","../module/lib/core/ClearBufferMask.js","../module/lib/core/Capability.js","../module/lib/core/BlendingFactorSrc.js","../module/lib/core/BlendingFactorDest.js","../module/lib/core/BeginMode.js","../module/lib/core/Attrib.js","../module/lib/commands/WebGLEnable.js","../module/lib/commands/WebGLDisable.js","../module/lib/commands/WebGLClearColor.js","../module/lib/checks/mustBeNumber.js","../module/lib/commands/WebGLBlendFunc.js","../module/lib/core/ShareableBase.js","../module/lib/core/uuid4.js","../module/lib/core/refChange.js","../module/lib/i18n/readOnly.js","../module/lib/checks/mustBeString.js","../module/lib/checks/isString.js","../module/lib/checks/mustBeInteger.js","../module/lib/checks/isInteger.js","../module/lib/checks/isNumber.js","../module/lib/checks/mustBeEQ.js","../module/lib/checks/isEQ.js","../module/lib/checks/mustSatisfy.js","../module/lib/checks/isDefined.js","../../node_modules/tslib/tslib.es6.js"],"sourcesContent":["// commands\nexport { WebGLBlendFunc } from './lib/commands/WebGLBlendFunc';\nexport { WebGLClearColor } from './lib/commands/WebGLClearColor';\nexport { WebGLDisable } from './lib/commands/WebGLDisable';\nexport { WebGLEnable } from './lib/commands/WebGLEnable';\n// core\nexport { Attrib } from './lib/core/Attrib';\nexport { BeginMode } from './lib/core/BeginMode';\nexport { BlendingFactorDest } from './lib/core/BlendingFactorDest';\nexport { BlendingFactorSrc } from './lib/core/BlendingFactorSrc';\nexport { Capability } from './lib/core/Capability';\nexport { ClearBufferMask } from './lib/core/ClearBufferMask';\nexport { DataType } from './lib/core/DataType';\nexport { DepthFunction } from './lib/core/DepthFunction';\nexport { GeometryArrays } from './lib/core/GeometryArrays';\nexport { GeometryElements } from './lib/core/GeometryElements';\nexport { GraphicsProgramSymbols } from './lib/core/GraphicsProgramSymbols';\nexport { ImageTexture } from './lib/core/ImageTexture';\nexport { PixelFormat } from './lib/core/PixelFormat';\nexport { PixelType } from './lib/core/PixelType';\nexport { Scene } from './lib/core/Scene';\nexport { Shader } from './lib/core/Shader';\nexport { Texture } from './lib/core/Texture';\nexport { TextureMagFilter } from './lib/core/TextureMagFilter';\nexport { TextureMinFilter } from './lib/core/TextureMinFilter';\nexport { TextureParameterName } from './lib/core/TextureParameterName';\nexport { TextureTarget } from './lib/core/TextureTarget';\nexport { TextureWrapMode } from './lib/core/TextureWrapMode';\nexport { Uniform } from './lib/core/Uniform';\nexport { Usage } from './lib/core/Usage';\nexport { Engine } from './lib/core/Engine';\nexport { VertexBuffer } from './lib/core/VertexBuffer';\nexport { IndexBuffer } from './lib/core/IndexBuffer';\nexport { vertexArraysFromPrimitive } from './lib/core/vertexArraysFromPrimitive';\n// materials\nexport { HTMLScriptsMaterial } from './lib/materials/HTMLScriptsMaterial';\nexport { ShaderMaterial } from './lib/materials/ShaderMaterial';\n// utils\nexport { ShareableArray } from './lib/collections/ShareableArray';\nexport { NumberShareableMap } from './lib/collections/NumberShareableMap';\nexport { refChange } from './lib/core/refChange';\nexport { ShareableBase } from './lib/core/ShareableBase';\nexport { StringShareableMap } from './lib/collections/StringShareableMap';\n// loaders\nexport { TextureLoader } from './lib/loaders/TextureLoader';\n","import { ImageTexture } from '../core/ImageTexture';\nimport { isFunction } from '../checks/isFunction';\nimport { isDefined } from '../checks/isDefined';\nimport { mustBeString } from '../checks/mustBeString';\nimport { mustBeFunction } from '../checks/mustBeFunction';\nimport { mustBeNonNullObject } from '../checks/mustBeNonNullObject';\nimport { TextureTarget } from '../core/TextureTarget';\n/**\n * A utility for loading Texture resources from a URL.\n *\n *     const loader = new EIGHT.TextureLoader(engine)\n *     loader.loadImageTexture('img/textures/solar-system/2k_earth_daymap.jpg', function(texture) {\n *       texture.minFilter = EIGHT.TextureMinFilter.NEAREST;\n *       const geometry = new EIGHT.SphereGeometry(engine, {azimuthSegments: 64, elevationSegments: 32})\n *       const material = new EIGHT.HTMLScriptsMaterial(engine, ['vs', 'fs'])\n *       sphere = new EIGHT.Mesh(geometry, material, engine)\n *       geometry.release()\n *       material.release()\n *       sphere.texture = texture\n *       texture.release()\n *       scene.add(sphere)\n *     })\n */\nvar TextureLoader = (function () {\n    /**\n     * @param contextManager\n     */\n    function TextureLoader(contextManager) {\n        this.contextManager = contextManager;\n        mustBeNonNullObject('contextManager', contextManager);\n    }\n    /**\n     * @param url The Uniform Resource Locator of the image.\n     * @param onLoad\n     * @param onError\n     */\n    TextureLoader.prototype.loadImageTexture = function (url, onLoad, onError, options) {\n        var _this = this;\n        if (options === void 0) { options = {}; }\n        mustBeString('url', url);\n        mustBeFunction('onLoad', onLoad);\n        var image = new Image();\n        image.onload = function () {\n            var texture = new ImageTexture(image, TextureTarget.TEXTURE_2D, _this.contextManager);\n            texture.bind();\n            texture.upload();\n            texture.unbind();\n            onLoad(texture);\n        };\n        image.onerror = function () {\n            if (isFunction(onError)) {\n                onError();\n            }\n        };\n        // How to issue a CORS request for an image coming from another domain.\n        // The image is fetched from the server without any credentials, i.e., cookies.\n        if (isDefined(options.crossOrigin)) {\n            image.crossOrigin = mustBeString('crossOrigin', options.crossOrigin);\n        }\n        image.src = url;\n    };\n    return TextureLoader;\n}());\nexport { TextureLoader };\n","import { mustSatisfy } from '../checks/mustSatisfy';\nimport { isFunction } from '../checks/isFunction';\nfunction beFunction() {\n    return \"be a function\";\n}\nexport function mustBeFunction(name, value, contextBuilder) {\n    mustSatisfy(name, isFunction(value), beFunction, contextBuilder);\n    return value;\n}\n","export function isFunction(x) {\n    return (typeof x === 'function');\n}\n","import * as tslib_1 from \"tslib\";\nimport { ShareableBase } from '../core/ShareableBase';\n/**\n *\n */\nvar StringShareableMap = (function (_super) {\n    tslib_1.__extends(StringShareableMap, _super);\n    /**\n     * A map of string to V extends Shareable.\n     */\n    function StringShareableMap() {\n        var _this = _super.call(this) || this;\n        _this.elements = {};\n        _this.setLoggingName('StringShareableMap');\n        return _this;\n    }\n    StringShareableMap.prototype.destructor = function (levelUp) {\n        var _this = this;\n        this.forEach(function (key) {\n            _this.putWeakRef(key, void 0);\n        });\n        _super.prototype.destructor.call(this, levelUp + 1);\n    };\n    /**\n     * Determines whether the key exists in the map with a defined value.\n     */\n    StringShareableMap.prototype.exists = function (key) {\n        var element = this.elements[key];\n        return element ? true : false;\n    };\n    StringShareableMap.prototype.get = function (key) {\n        var element = this.elements[key];\n        if (element) {\n            if (element.addRef) {\n                element.addRef();\n            }\n            return element;\n        }\n        else {\n            return void 0;\n        }\n    };\n    StringShareableMap.prototype.getWeakRef = function (key) {\n        return this.elements[key];\n    };\n    StringShareableMap.prototype.put = function (key, value) {\n        if (value && value.addRef) {\n            value.addRef();\n        }\n        this.putWeakRef(key, value);\n    };\n    StringShareableMap.prototype.putWeakRef = function (key, value) {\n        var elements = this.elements;\n        var existing = elements[key];\n        if (existing) {\n            if (existing.release) {\n                existing.release();\n            }\n        }\n        elements[key] = value;\n    };\n    StringShareableMap.prototype.forEach = function (callback) {\n        var keys = this.keys;\n        for (var i = 0, iLength = keys.length; i < iLength; i++) {\n            var key = keys[i];\n            callback(key, this.elements[key]);\n        }\n    };\n    Object.defineProperty(StringShareableMap.prototype, \"keys\", {\n        get: function () {\n            return Object.keys(this.elements);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(StringShareableMap.prototype, \"values\", {\n        get: function () {\n            var values = [];\n            var keys = this.keys;\n            for (var i = 0, iLength = keys.length; i < iLength; i++) {\n                var key = keys[i];\n                values.push(this.elements[key]);\n            }\n            return values;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    StringShareableMap.prototype.remove = function (key) {\n        var value = this.elements[key];\n        delete this.elements[key];\n        return value;\n    };\n    return StringShareableMap;\n}(ShareableBase));\nexport { StringShareableMap };\n","import * as tslib_1 from \"tslib\";\nimport { ShareableBase } from '../core/ShareableBase';\nvar NumberShareableMap = (function (_super) {\n    tslib_1.__extends(NumberShareableMap, _super);\n    function NumberShareableMap() {\n        var _this = _super.call(this) || this;\n        _this._elements = {};\n        _this.setLoggingName('NumberShareableMap');\n        return _this;\n    }\n    NumberShareableMap.prototype.destructor = function (levelUp) {\n        this.forEach(function (key, value) {\n            if (value) {\n                value.release();\n            }\n        });\n        this._elements = void 0;\n        _super.prototype.destructor.call(this, levelUp + 1);\n    };\n    NumberShareableMap.prototype.exists = function (key) {\n        var element = this._elements[key];\n        return element ? true : false;\n    };\n    NumberShareableMap.prototype.get = function (key) {\n        var element = this.getWeakRef(key);\n        if (element) {\n            element.addRef();\n        }\n        return element;\n    };\n    NumberShareableMap.prototype.getWeakRef = function (index) {\n        return this._elements[index];\n    };\n    NumberShareableMap.prototype.put = function (key, value) {\n        if (value) {\n            value.addRef();\n        }\n        this.putWeakRef(key, value);\n    };\n    NumberShareableMap.prototype.putWeakRef = function (key, value) {\n        var elements = this._elements;\n        var existing = elements[key];\n        if (existing) {\n            existing.release();\n        }\n        elements[key] = value;\n    };\n    NumberShareableMap.prototype.forEach = function (callback) {\n        var keys = this.keys;\n        for (var i = 0, iLength = keys.length; i < iLength; i++) {\n            var key = keys[i];\n            var value = this._elements[key];\n            callback(key, value);\n        }\n    };\n    Object.defineProperty(NumberShareableMap.prototype, \"keys\", {\n        get: function () {\n            // FIXME: cache? Maybe, clients may use this to iterate. forEach is too slow.\n            return Object.keys(this._elements).map(function (keyString) { return parseFloat(keyString); });\n        },\n        enumerable: true,\n        configurable: true\n    });\n    NumberShareableMap.prototype.remove = function (key) {\n        // Strong or Weak doesn't matter because the value is `undefined`.\n        this.put(key, void 0);\n        delete this._elements[key];\n    };\n    return NumberShareableMap;\n}(ShareableBase));\nexport { NumberShareableMap };\n","import * as tslib_1 from \"tslib\";\nimport { isString } from '../checks/isString';\nimport { mustBeArray } from '../checks/mustBeArray';\nimport { mustBeObject } from '../checks/mustBeObject';\nimport { mustBeString } from '../checks/mustBeString';\nimport { mustSatisfy } from '../checks/mustSatisfy';\nimport { ShaderMaterial } from './ShaderMaterial';\nfunction getHTMLElementById(elementId, dom) {\n    var element = dom.getElementById(mustBeString('elementId', elementId));\n    if (element) {\n        return element;\n    }\n    else {\n        throw new Error(\"'\" + elementId + \"' is not a valid element identifier.\");\n    }\n}\nfunction vertexShaderSrc(vsId, dom) {\n    mustBeString('vsId', vsId);\n    mustBeObject('dom', dom);\n    return getHTMLElementById(vsId, dom).textContent;\n}\nfunction fragmentShaderSrc(fsId, dom) {\n    mustBeString('fsId', fsId);\n    mustBeObject('dom', dom);\n    return getHTMLElementById(fsId, dom).textContent;\n}\nfunction assign(elementId, dom, result) {\n    var htmlElement = dom.getElementById(elementId);\n    if (htmlElement instanceof HTMLScriptElement) {\n        var script = htmlElement;\n        if (isString(script.type)) {\n            if (script.type.indexOf('vertex') >= 0) {\n                result[0] = elementId;\n            }\n            else if (script.type.indexOf('fragment') >= 0) {\n                result[1] = elementId;\n            }\n            else {\n                // Do nothing\n            }\n        }\n        if (isString(script.textContent)) {\n            if (script.textContent.indexOf('gl_Position') >= 0) {\n                result[0] = elementId;\n            }\n            else if (script.textContent.indexOf('gl_FragColor') >= 0) {\n                result[1] = elementId;\n            }\n            else {\n                // Do nothing\n            }\n        }\n    }\n}\nfunction detectShaderType(scriptIds, dom) {\n    mustBeArray('scriptIds', scriptIds);\n    mustSatisfy('scriptIds', scriptIds.length === 2, function () { return 'have two script element identifiers.'; });\n    var result = [scriptIds[0], scriptIds[1]];\n    assign(scriptIds[0], dom, result);\n    assign(scriptIds[1], dom, result);\n    return result;\n}\n/**\n * A shareable WebGL program based upon shader source code in HTML script elements.\n *\n * This class provides a convenient way of creating custom GLSL programs.\n * The scripts are lazily loaded so that the constructor may be called before\n * the DOM has finished loading.\n */\nvar HTMLScriptsMaterial = (function (_super) {\n    tslib_1.__extends(HTMLScriptsMaterial, _super);\n    /**\n     * @param contextManager\n     * @param scriptIds The element identifiers for the vertex and fragment shader respectively.\n     * @param attribs An array of strings containing the order of attributes.\n     * @param dom The document object model that owns the script elements.\n     * @param levelUp\n     */\n    function HTMLScriptsMaterial(contextManager, scriptIds, attribs, dom, levelUp) {\n        if (attribs === void 0) { attribs = []; }\n        if (dom === void 0) { dom = window.document; }\n        if (levelUp === void 0) { levelUp = 0; }\n        var _this = _super.call(this, vertexShaderSrc(detectShaderType(scriptIds, dom)[0], dom), fragmentShaderSrc(detectShaderType(scriptIds, dom)[1], dom), attribs, contextManager, levelUp + 1) || this;\n        _this.setLoggingName('HTMLScriptsMaterial');\n        if (levelUp === 0) {\n            _this.synchUp();\n        }\n        return _this;\n    }\n    /**\n     *\n     */\n    HTMLScriptsMaterial.prototype.resurrector = function (levelUp) {\n        _super.prototype.resurrector.call(this, levelUp + 1);\n        this.setLoggingName('HTMLScriptsMaterial');\n        if (levelUp === 0) {\n            this.synchUp();\n        }\n    };\n    /**\n     *\n     */\n    HTMLScriptsMaterial.prototype.destructor = function (levelUp) {\n        if (levelUp === 0) {\n            this.cleanUp();\n        }\n        _super.prototype.destructor.call(this, levelUp + 1);\n    };\n    return HTMLScriptsMaterial;\n}(ShaderMaterial));\nexport { HTMLScriptsMaterial };\n","import * as tslib_1 from \"tslib\";\nimport { Attrib } from '../core/Attrib';\nimport { DataType } from '../core/DataType';\nimport { isDefined } from '../checks/isDefined';\nimport { isString } from '../checks/isString';\nimport { isNull } from '../checks/isNull';\nimport { makeWebGLProgram } from '../core/makeWebGLProgram';\nimport { mustBeArray } from '../checks/mustBeArray';\nimport { mustBeString } from '../checks/mustBeString';\nimport { mustBeUndefined } from '../checks/mustBeUndefined';\nimport { readOnly } from '../i18n/readOnly';\nimport { ShareableContextConsumer } from '../core/ShareableContextConsumer';\nimport { Uniform } from '../core/Uniform';\n/**\n *\n */\nvar ShaderMaterial = (function (_super) {\n    tslib_1.__extends(ShaderMaterial, _super);\n    /**\n     * @param vertexShaderSrc The vertex shader source code.\n     * @param fragmentShaderSrc The fragment shader source code.\n     * @param attribs The attribute ordering.\n     * @param engine The <code>Engine</code> to subscribe to or <code>null</code> for deferred subscription.\n     */\n    function ShaderMaterial(vertexShaderSrc, fragmentShaderSrc, attribs, contextManager, levelUp) {\n        if (levelUp === void 0) { levelUp = 0; }\n        var _this = _super.call(this, contextManager) || this;\n        /**\n         *\n         */\n        _this._attributesByName = {};\n        _this._attributesByIndex = [];\n        /**\n         *\n         */\n        _this._uniforms = {};\n        _this.setLoggingName('ShaderMaterial');\n        if (isDefined(vertexShaderSrc) && !isNull(vertexShaderSrc)) {\n            _this._vertexShaderSrc = mustBeString('vertexShaderSrc', vertexShaderSrc);\n        }\n        if (isDefined(fragmentShaderSrc) && !isNull(fragmentShaderSrc)) {\n            _this._fragmentShaderSrc = mustBeString('fragmentShaderSrc', fragmentShaderSrc);\n        }\n        _this._attribs = mustBeArray('attribs', attribs);\n        if (levelUp === 0) {\n            _this.synchUp();\n        }\n        return _this;\n    }\n    /**\n     *\n     */\n    ShaderMaterial.prototype.resurrector = function (levelUp) {\n        _super.prototype.resurrector.call(this, levelUp + 1);\n        this.setLoggingName('ShaderMaterial');\n        if (levelUp === 0) {\n            this.synchUp();\n        }\n    };\n    /**\n     *\n     */\n    ShaderMaterial.prototype.destructor = function (levelUp) {\n        if (levelUp === 0) {\n            this.cleanUp();\n        }\n        mustBeUndefined(this.getLoggingName(), this._program);\n        _super.prototype.destructor.call(this, levelUp + 1);\n    };\n    /**\n     *\n     */\n    ShaderMaterial.prototype.contextGain = function () {\n        var gl = this.contextManager.gl;\n        if (!this._program && isString(this._vertexShaderSrc) && isString(this._fragmentShaderSrc)) {\n            this._program = makeWebGLProgram(gl, this._vertexShaderSrc, this._fragmentShaderSrc, this._attribs);\n            this._attributesByName = {};\n            this._attributesByIndex = [];\n            this._uniforms = {};\n            var aLen = gl.getProgramParameter(this._program, gl.ACTIVE_ATTRIBUTES);\n            for (var a = 0; a < aLen; a++) {\n                var attribInfo = gl.getActiveAttrib(this._program, a);\n                var attrib = new Attrib(this.contextManager, attribInfo);\n                this._attributesByName[attribInfo.name] = attrib;\n                this._attributesByIndex.push(attrib);\n            }\n            var uLen = gl.getProgramParameter(this._program, gl.ACTIVE_UNIFORMS);\n            for (var u = 0; u < uLen; u++) {\n                var uniformInfo = gl.getActiveUniform(this._program, u);\n                this._uniforms[uniformInfo.name] = new Uniform(uniformInfo);\n            }\n            // TODO: This would be more efficient over the array.\n            for (var aName in this._attributesByName) {\n                if (this._attributesByName.hasOwnProperty(aName)) {\n                    this._attributesByName[aName].contextGain(gl, this._program);\n                }\n            }\n            for (var uName in this._uniforms) {\n                if (this._uniforms.hasOwnProperty(uName)) {\n                    this._uniforms[uName].contextGain(gl, this._program);\n                }\n            }\n        }\n        _super.prototype.contextGain.call(this);\n    };\n    /**\n     *\n     */\n    ShaderMaterial.prototype.contextLost = function () {\n        this._program = void 0;\n        for (var aName in this._attributesByName) {\n            // TODO: This would be better over the array.\n            if (this._attributesByName.hasOwnProperty(aName)) {\n                this._attributesByName[aName].contextLost();\n            }\n        }\n        for (var uName in this._uniforms) {\n            if (this._uniforms.hasOwnProperty(uName)) {\n                this._uniforms[uName].contextLost();\n            }\n        }\n        _super.prototype.contextLost.call(this);\n    };\n    /**\n     *\n     */\n    ShaderMaterial.prototype.contextFree = function () {\n        if (this._program) {\n            var gl = this.contextManager.gl;\n            if (gl) {\n                if (!gl.isContextLost()) {\n                    gl.deleteProgram(this._program);\n                }\n                else {\n                    // WebGL has lost the context, effectively cleaning up everything.\n                }\n            }\n            else {\n                console.warn(\"memory leak: WebGLProgram has not been deleted because WebGLRenderingContext is not available anymore.\");\n            }\n            this._program = void 0;\n        }\n        // TODO\n        for (var aName in this._attributesByName) {\n            if (this._attributesByName.hasOwnProperty(aName)) {\n                this._attributesByName[aName].contextFree();\n            }\n        }\n        for (var uName in this._uniforms) {\n            if (this._uniforms.hasOwnProperty(uName)) {\n                this._uniforms[uName].contextFree();\n            }\n        }\n        _super.prototype.contextFree.call(this);\n    };\n    Object.defineProperty(ShaderMaterial.prototype, \"vertexShaderSrc\", {\n        /**\n         *\n         */\n        get: function () {\n            return this._vertexShaderSrc;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ShaderMaterial.prototype, \"fragmentShaderSrc\", {\n        /**\n         *\n         */\n        get: function () {\n            return this._fragmentShaderSrc;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ShaderMaterial.prototype, \"attributeNames\", {\n        /**\n         *\n         */\n        get: function () {\n            // I wonder if it might be better to use the array and preserve order. \n            var attributes = this._attributesByName;\n            if (attributes) {\n                return Object.keys(attributes);\n            }\n            else {\n                return void 0;\n            }\n        },\n        set: function (unused) {\n            throw new Error(readOnly('attributeNames').message);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Convenience method for dereferencing the name to an attribute location, followed by enabling the attribute.\n     */\n    ShaderMaterial.prototype.enableAttrib = function (indexOrName) {\n        if (typeof indexOrName === 'number') {\n            if (this.gl) {\n                this.gl.enableVertexAttribArray(indexOrName);\n            }\n        }\n        else if (typeof indexOrName === 'string') {\n            var attribLoc = this._attributesByName[indexOrName];\n            if (attribLoc) {\n                attribLoc.enable();\n            }\n        }\n        else {\n            throw new TypeError(\"indexOrName must have type number or string.\");\n        }\n    };\n    /**\n     *\n     */\n    ShaderMaterial.prototype.enableAttribs = function () {\n        var attribLocations = this._attributesByName;\n        if (attribLocations) {\n            // TODO: Store loactions as a plain array in order to avoid temporaries (aNames)\n            var aNames = Object.keys(attribLocations);\n            for (var i = 0, iLength = aNames.length; i < iLength; i++) {\n                attribLocations[aNames[i]].enable();\n            }\n        }\n    };\n    /**\n     *\n     */\n    ShaderMaterial.prototype.disableAttrib = function (indexOrName) {\n        if (typeof indexOrName === 'number') {\n            if (this.gl) {\n                this.gl.disableVertexAttribArray(indexOrName);\n            }\n        }\n        else if (typeof indexOrName === 'string') {\n            var attribLoc = this._attributesByName[indexOrName];\n            if (attribLoc) {\n                attribLoc.disable();\n            }\n        }\n        else {\n            throw new TypeError(\"indexOrName must have type number or string.\");\n        }\n    };\n    /**\n     *\n     */\n    ShaderMaterial.prototype.disableAttribs = function () {\n        var attribLocations = this._attributesByName;\n        if (attribLocations) {\n            // TODO: Store loactions as a plain array in order to avoid temporaries (aNames)\n            var aNames = Object.keys(attribLocations);\n            for (var i = 0, iLength = aNames.length; i < iLength; i++) {\n                attribLocations[aNames[i]].disable();\n            }\n        }\n    };\n    ShaderMaterial.prototype.attrib = function (name, value, size, normalized, stride, offset) {\n        if (normalized === void 0) { normalized = false; }\n        if (stride === void 0) { stride = 0; }\n        if (offset === void 0) { offset = 0; }\n        var attrib = this.getAttrib(name);\n        if (attrib) {\n            value.bind();\n            attrib.enable();\n            attrib.config(size, DataType.FLOAT, normalized, stride, offset);\n        }\n        return this;\n    };\n    ShaderMaterial.prototype.getAttrib = function (indexOrName) {\n        if (typeof indexOrName === 'number') {\n            // FIXME\n            return this._attributesByIndex[indexOrName];\n        }\n        else if (typeof indexOrName === 'string') {\n            return this._attributesByName[indexOrName];\n        }\n        else {\n            throw new TypeError(\"indexOrName must be a number or a string\");\n        }\n    };\n    /**\n     * Returns the location (index) of the attribute with the specified name.\n     * Returns <code>-1</code> if the name does not correspond to an attribute.\n     */\n    ShaderMaterial.prototype.getAttribLocation = function (name) {\n        var attribLoc = this._attributesByName[name];\n        if (attribLoc) {\n            return attribLoc.index;\n        }\n        else {\n            return -1;\n        }\n    };\n    /**\n     * Returns a <code>Uniform</code> object corresponding to the <code>uniform</code>\n     * parameter of the same name in the shader code. If a uniform parameter of the specified name\n     * does not exist, this method returns undefined (void 0).\n     */\n    ShaderMaterial.prototype.getUniform = function (name) {\n        var uniforms = this._uniforms;\n        if (uniforms[name]) {\n            return uniforms[name];\n        }\n        else {\n            return void 0;\n        }\n    };\n    /**\n     * <p>\n     * Determines whether a <code>uniform</code> with the specified <code>name</code> exists in the <code>WebGLProgram</code>.\n     * </p>\n     */\n    ShaderMaterial.prototype.hasUniform = function (name) {\n        mustBeString('name', name);\n        return isDefined(this._uniforms[name]);\n    };\n    ShaderMaterial.prototype.activeTexture = function (texture) {\n        if (this.gl) {\n            this.gl.activeTexture(texture);\n        }\n    };\n    ShaderMaterial.prototype.uniform1i = function (name, x) {\n        var uniformLoc = this.getUniform(name);\n        if (uniformLoc) {\n            uniformLoc.uniform1i(x);\n        }\n    };\n    ShaderMaterial.prototype.uniform1f = function (name, x) {\n        var uniformLoc = this.getUniform(name);\n        if (uniformLoc) {\n            uniformLoc.uniform1f(x);\n        }\n    };\n    ShaderMaterial.prototype.uniform2f = function (name, x, y) {\n        var uniformLoc = this._uniforms[name];\n        if (uniformLoc) {\n            uniformLoc.uniform2f(x, y);\n        }\n    };\n    ShaderMaterial.prototype.uniform3f = function (name, x, y, z) {\n        var uniformLoc = this._uniforms[name];\n        if (uniformLoc) {\n            uniformLoc.uniform3f(x, y, z);\n        }\n    };\n    ShaderMaterial.prototype.uniform4f = function (name, x, y, z, w) {\n        var uniformLoc = this._uniforms[name];\n        if (uniformLoc) {\n            uniformLoc.uniform4f(x, y, z, w);\n        }\n    };\n    ShaderMaterial.prototype.uniform = function (name, value) {\n        var uniformLoc = this._uniforms[name];\n        if (uniformLoc) {\n            if (typeof value === 'number') {\n                uniformLoc.uniform1f(value);\n            }\n            else if (value) {\n                switch (value.length) {\n                    case 1: {\n                        uniformLoc.uniform1f(value[0]);\n                        break;\n                    }\n                    case 2: {\n                        uniformLoc.uniform2f(value[0], value[1]);\n                        break;\n                    }\n                    case 3: {\n                        uniformLoc.uniform3f(value[0], value[1], value[2]);\n                        break;\n                    }\n                    case 4: {\n                        uniformLoc.uniform4f(value[0], value[1], value[2], value[3]);\n                        break;\n                    }\n                }\n            }\n        }\n        return this;\n    };\n    /**\n     *\n     */\n    ShaderMaterial.prototype.use = function () {\n        var gl = this.gl;\n        if (gl) {\n            gl.useProgram(this._program);\n        }\n        else {\n            console.warn(this.getLoggingName() + \".use() missing WebGL rendering context.\");\n        }\n        return this;\n    };\n    ShaderMaterial.prototype.matrix2fv = function (name, matrix, transpose) {\n        if (transpose === void 0) { transpose = false; }\n        var uniformLoc = this._uniforms[name];\n        if (uniformLoc) {\n            uniformLoc.matrix2fv(transpose, matrix);\n        }\n        return this;\n    };\n    ShaderMaterial.prototype.matrix3fv = function (name, matrix, transpose) {\n        if (transpose === void 0) { transpose = false; }\n        var uniformLoc = this._uniforms[name];\n        if (uniformLoc) {\n            uniformLoc.matrix3fv(transpose, matrix);\n        }\n        return this;\n    };\n    ShaderMaterial.prototype.matrix4fv = function (name, matrix, transpose) {\n        if (transpose === void 0) { transpose = false; }\n        var uniformLoc = this._uniforms[name];\n        if (uniformLoc) {\n            uniformLoc.matrix4fv(transpose, matrix);\n        }\n        return this;\n    };\n    ShaderMaterial.prototype.vector2fv = function (name, data) {\n        var uniformLoc = this._uniforms[name];\n        if (uniformLoc) {\n            uniformLoc.uniform2fv(data);\n        }\n    };\n    ShaderMaterial.prototype.vector3fv = function (name, data) {\n        var uniformLoc = this._uniforms[name];\n        if (uniformLoc) {\n            uniformLoc.uniform3fv(data);\n        }\n    };\n    ShaderMaterial.prototype.vector4fv = function (name, data) {\n        var uniformLoc = this._uniforms[name];\n        if (uniformLoc) {\n            uniformLoc.uniform4fv(data);\n        }\n    };\n    /**\n     * @param mode Specifies the type of the primitive being rendered.\n     * @param first Specifies the starting index in the array of vector points.\n     * @param count The number of points to be rendered.\n     */\n    ShaderMaterial.prototype.drawArrays = function (mode, first, count) {\n        var gl = this.gl;\n        if (gl) {\n            gl.drawArrays(mode, first, count);\n        }\n        return this;\n    };\n    /**\n     * @param mode Specifies the type of the primitive being rendered.\n     * @param count The number of elements to be rendered.\n     * @param type The type of the values in the element array buffer.\n     * @param offset Specifies an offset into the element array buffer.\n     */\n    ShaderMaterial.prototype.drawElements = function (mode, count, type, offset) {\n        var gl = this.gl;\n        if (gl) {\n            gl.drawElements(mode, count, type, offset);\n        }\n        return this;\n    };\n    return ShaderMaterial;\n}(ShareableContextConsumer));\nexport { ShaderMaterial };\n","import { makeWebGLShader } from './makeWebGLShader';\nexport function makeWebGLProgram(ctx, vertexShaderSrc, fragmentShaderSrc, attribs) {\n    // create our shaders\n    var vs = makeWebGLShader(ctx, vertexShaderSrc, ctx.VERTEX_SHADER);\n    var fs = makeWebGLShader(ctx, fragmentShaderSrc, ctx.FRAGMENT_SHADER);\n    // Create the program object.\n    var program = ctx.createProgram();\n    // Attach our two shaders to the program.\n    ctx.attachShader(program, vs);\n    ctx.attachShader(program, fs);\n    // Bind attributes allows us to specify the index that an attribute should be bound to.\n    for (var index = 0; index < attribs.length; ++index) {\n        ctx.bindAttribLocation(program, index, attribs[index]);\n    }\n    // Link the program.\n    ctx.linkProgram(program);\n    // Check the link status\n    var linked = ctx.getProgramParameter(program, ctx.LINK_STATUS);\n    if (linked || ctx.isContextLost()) {\n        return program;\n    }\n    else {\n        var message = ctx.getProgramInfoLog(program);\n        ctx.detachShader(program, vs);\n        ctx.deleteShader(vs);\n        ctx.detachShader(program, fs);\n        ctx.deleteShader(fs);\n        ctx.deleteProgram(program);\n        throw new Error(\"Error linking program: \" + message);\n    }\n}\n","import * as tslib_1 from \"tslib\";\nimport { checkEnums } from './checkEnums';\nimport { ClearBufferMask } from './ClearBufferMask';\nimport { initWebGL } from './initWebGL';\nimport { isDefined } from '../checks/isDefined';\n// import { mustBeGE } from '../checks/mustBeGE';\n// import { mustBeLE } from '../checks/mustBeLE';\nimport { mustBeNonNullObject } from '../checks/mustBeNonNullObject';\nimport { mustBeNumber } from '../checks/mustBeNumber';\nimport { mustBeString } from '../checks/mustBeString';\nimport { ShareableArray } from '../collections/ShareableArray';\nimport { ShareableBase } from './ShareableBase';\nimport { VersionLogger } from '../commands/VersionLogger';\nimport { WebGLClearColor } from '../commands/WebGLClearColor';\nimport { WebGLEnable } from '../commands/WebGLEnable';\nimport { WebGLDisable } from '../commands/WebGLDisable';\n/**\n * A wrapper around an HTMLCanvasElement providing access to the WebGLRenderingContext\n * and notifications of context loss and restore. An instance of the Engine will usually\n * be a required parameter for any consumer of WebGL resources.\n *\n *\n *     export const e1 = EIGHT.Geometric3.e1;\n *     export const e2 = EIGHT.Geometric3.e2;\n *     export const e3 = EIGHT.Geometric3.e3;\n *\n *     const engine = new EIGHT.Engine('canvas3D')\n *       .size(500, 500)\n *       .clearColor(0.1, 0.1, 0.1, 1.0)\n *       .enable(EIGHT.Capability.DEPTH_TEST)\n *\n *     const scene = new EIGHT.Scene(engine)\n *\n *     const ambients: EIGHT.Facet[] = []\n *\n *     const camera = new EIGHT.PerspectiveCamera()\n *     camera.eye = e2 + 3 * e3\n *     ambients.push(camera)\n *\n *     const dirLight = new EIGHT.DirectionalLight()\n *     ambients.push(dirLight)\n *\n *     const trackball = new EIGHT.TrackballControls(camera)\n *     trackball.subscribe(engine.canvas)\n *\n *     const box = new EIGHT.Box(engine)\n *     box.color = EIGHT.Color.green\n *     scene.add(box)\n *\n *     const animate = function(timestamp: number) {\n *       engine.clear()\n *\n *       trackball.update()\n *\n *       dirLight.direction = camera.look - camera.eye\n *\n *       box.attitude.rotorFromAxisAngle(e2, timestamp * 0.001)\n *\n *       scene.render(ambients)\n *\n *       requestAnimationFrame(animate)\n *     }\n *\n *     requestAnimationFrame(animate)\n */\nvar Engine = (function (_super) {\n    tslib_1.__extends(Engine, _super);\n    /**\n     * @param canvas\n     * @param attributes Allows the context to be configured.\n     * @param doc The document object model that contains the canvas identifier.\n     */\n    function Engine(canvas, attributes, doc) {\n        if (attributes === void 0) { attributes = {}; }\n        if (doc === void 0) { doc = window.document; }\n        var _this = _super.call(this) || this;\n        // Remark: We only hold weak references to users so that the lifetime of resource\n        // objects is not affected by the fact that they are listening for gl events.\n        // Users should automatically add themselves upon construction and remove upon release.\n        _this._users = [];\n        /**\n         * Actions that are executed when a WebGLRenderingContext is gained.\n         */\n        _this._commands = new ShareableArray([]);\n        /**\n         * The cache of Geometry.\n         */\n        _this.geometries = {};\n        /**\n         * The cache of Material.\n         */\n        _this.materials = {};\n        _this.setLoggingName('Engine');\n        _this._attributes = attributes;\n        if (attributes.webglLogging) {\n            _this._commands.pushWeakRef(new VersionLogger(_this));\n        }\n        _this._webGLContextLost = function (event) {\n            if (isDefined(_this._gl)) {\n                event.preventDefault();\n                _this._gl = void 0;\n                _this._users.forEach(function (user) {\n                    user.contextLost();\n                });\n            }\n        };\n        _this._webGLContextRestored = function (event) {\n            if (isDefined(_this._gl)) {\n                event.preventDefault();\n                _this._gl = initWebGL(_this._gl.canvas, attributes);\n                _this._users.forEach(function (user) {\n                    user.contextGain();\n                });\n            }\n        };\n        if (canvas) {\n            _this.start(canvas, doc);\n        }\n        return _this;\n    }\n    /**\n     *\n     */\n    Engine.prototype.resurrector = function (levelUp) {\n        _super.prototype.resurrector.call(this, levelUp + 1);\n        this.setLoggingName('Engine');\n        this._commands = new ShareableArray([]);\n    };\n    /**\n     *\n     */\n    Engine.prototype.destructor = function (levelUp) {\n        this.stop();\n        while (this._users.length > 0) {\n            this._users.pop();\n        }\n        this._commands.release();\n        _super.prototype.destructor.call(this, levelUp + 1);\n    };\n    /**\n     *\n     */\n    Engine.prototype.addContextListener = function (user) {\n        mustBeNonNullObject('user', user);\n        var index = this._users.indexOf(user);\n        if (index < 0) {\n            this._users.push(user);\n        }\n        else {\n            console.warn(\"user already exists for addContextListener\");\n        }\n    };\n    Object.defineProperty(Engine.prototype, \"canvas\", {\n        /**\n         * The canvas element associated with the WebGLRenderingContext.\n         */\n        get: function () {\n            if (this._gl) {\n                return this._gl.canvas;\n            }\n            else {\n                return void 0;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Engine.prototype, \"drawingBufferHeight\", {\n        get: function () {\n            if (this._gl) {\n                return this._gl.drawingBufferHeight;\n            }\n            else {\n                return void 0;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Engine.prototype, \"drawingBufferWidth\", {\n        get: function () {\n            if (this._gl) {\n                return this._gl.drawingBufferWidth;\n            }\n            else {\n                return void 0;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Engine.prototype.blendFunc = function (sfactor, dfactor) {\n        var gl = this._gl;\n        if (gl) {\n            gl.blendFunc(sfactor, dfactor);\n        }\n        return this;\n    };\n    /**\n     * <p>\n     * Sets the graphics buffers to values preselected by clearColor, clearDepth or clearStencil.\n     * </p>\n     */\n    Engine.prototype.clear = function (mask) {\n        if (mask === void 0) { mask = ClearBufferMask.COLOR_BUFFER_BIT | ClearBufferMask.DEPTH_BUFFER_BIT; }\n        var gl = this._gl;\n        if (gl) {\n            gl.clear(mask);\n        }\n        return this;\n    };\n    /**\n     * Specifies color values to use by the <code>clear</code> method to clear the color buffer.\n     */\n    Engine.prototype.clearColor = function (red, green, blue, alpha) {\n        this._commands.pushWeakRef(new WebGLClearColor(this, red, green, blue, alpha));\n        var gl = this._gl;\n        if (gl) {\n            gl.clearColor(red, green, blue, alpha);\n        }\n        return this;\n    };\n    /**\n     * Specifies the clear value for the depth buffer.\n     * This specifies what depth value to use when calling the clear() method.\n     * The value is clamped between 0 and 1.\n     *\n     * @param depth Specifies the depth value used when the depth buffer is cleared.\n     * The default value is 1.\n     */\n    Engine.prototype.clearDepth = function (depth) {\n        var gl = this._gl;\n        if (gl) {\n            gl.clearDepth(depth);\n        }\n        return this;\n    };\n    /**\n     * @param s Specifies the index used when the stencil buffer is cleared.\n     * The default value is 0.\n     */\n    Engine.prototype.clearStencil = function (s) {\n        var gl = this._gl;\n        if (gl) {\n            gl.clearStencil(s);\n        }\n        return this;\n    };\n    Engine.prototype.depthFunc = function (func) {\n        var gl = this._gl;\n        if (gl) {\n            gl.depthFunc(func);\n        }\n        return this;\n    };\n    Engine.prototype.depthMask = function (flag) {\n        var gl = this._gl;\n        if (gl) {\n            gl.depthMask(flag);\n        }\n        return this;\n    };\n    /**\n     * Disables the specified WebGL capability.\n     */\n    Engine.prototype.disable = function (capability) {\n        this._commands.pushWeakRef(new WebGLDisable(this, capability));\n        if (this._gl) {\n            this._gl.disable(capability);\n        }\n        return this;\n    };\n    /**\n     * Enables the specified WebGL capability.\n     */\n    Engine.prototype.enable = function (capability) {\n        this._commands.pushWeakRef(new WebGLEnable(this, capability));\n        if (this._gl) {\n            this._gl.enable(capability);\n        }\n        return this;\n    };\n    Object.defineProperty(Engine.prototype, \"gl\", {\n        /**\n         * The underlying WebGL rendering context.\n         */\n        get: function () {\n            if (this._gl) {\n                return this._gl;\n            }\n            else {\n                return void 0;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     *\n     */\n    Engine.prototype.readPixels = function (x, y, width, height, format, type, pixels) {\n        if (this._gl) {\n            this._gl.readPixels(x, y, width, height, format, type, pixels);\n        }\n    };\n    /**\n     * @param user\n     */\n    Engine.prototype.removeContextListener = function (user) {\n        mustBeNonNullObject('user', user);\n        var index = this._users.indexOf(user);\n        if (index >= 0) {\n            this._users.splice(index, 1);\n        }\n    };\n    /**\n     * A convenience method for setting the width and height properties of the\n     * underlying canvas and for setting the viewport to the drawing buffer height and width.\n     */\n    Engine.prototype.size = function (width, height) {\n        this.canvas.width = mustBeNumber('width', width);\n        this.canvas.height = mustBeNumber('height', height);\n        return this.viewport(0, 0, this.gl.drawingBufferWidth, this.gl.drawingBufferHeight);\n    };\n    /**\n     * The viewport width and height are clamped to a range that is\n     * implementation dependent.\n     *\n     * @returns e.g. Int32Array[16384, 16384]\n     */\n    Engine.prototype.getMaxViewportDims = function () {\n        var gl = this._gl;\n        if (gl) {\n            return gl.getParameter(gl.MAX_VIEWPORT_DIMS);\n        }\n        else {\n            return void 0;\n        }\n    };\n    /**\n     * Returns the current viewport settings.\n     *\n     * @returns e.g. Int32Array[x, y, width, height]\n     */\n    Engine.prototype.getViewport = function () {\n        var gl = this._gl;\n        if (gl) {\n            return gl.getParameter(gl.VIEWPORT);\n        }\n        else {\n            return void 0;\n        }\n    };\n    /**\n     * Defines what part of the canvas will be used in rendering the drawing buffer.\n     *\n     * @param x\n     * @param y\n     * @param width\n     * @param height\n     */\n    Engine.prototype.viewport = function (x, y, width, height) {\n        var gl = this._gl;\n        if (gl) {\n            gl.viewport(x, y, width, height);\n        }\n        return this;\n    };\n    /**\n     * Initializes the <code>WebGLRenderingContext</code> for the specified <code>HTMLCanvasElement</code>.\n     *\n     * @param canvas The HTML canvas element or canvas element identifier.\n     * @param doc The document object model that contains the canvas identifier.\n     */\n    Engine.prototype.start = function (canvas, doc) {\n        if (doc === void 0) { doc = window.document; }\n        if (typeof canvas === 'string') {\n            var canvasElement = doc.getElementById(canvas);\n            if (canvasElement) {\n                return this.start(canvasElement, doc);\n            }\n            else {\n                throw new Error(\"canvas argument must be a canvas element id or an HTMLCanvasElement.\");\n            }\n        }\n        else if (canvas instanceof HTMLCanvasElement) {\n            if (isDefined(this._gl)) {\n                // We'll just be idempotent and ignore the call because we've already been started.\n                // To use the canvas might conflict with one we have dynamically created.\n                console.warn(this.getLoggingName() + \" Ignoring start() because already started.\");\n                return this;\n            }\n            else {\n                this._gl = checkEnums(initWebGL(canvas, this._attributes));\n                this.emitStartEvent();\n                canvas.addEventListener('webglcontextlost', this._webGLContextLost, false);\n                canvas.addEventListener('webglcontextrestored', this._webGLContextRestored, false);\n            }\n            return this;\n        }\n        else {\n            if (isDefined(canvas)) {\n                this._gl = checkEnums(canvas);\n            }\n            return this;\n        }\n    };\n    /**\n     *\n     */\n    Engine.prototype.stop = function () {\n        if (isDefined(this._gl)) {\n            this._gl.canvas.removeEventListener('webglcontextrestored', this._webGLContextRestored, false);\n            this._gl.canvas.removeEventListener('webglcontextlost', this._webGLContextLost, false);\n            if (this._gl) {\n                this.emitStopEvent();\n                this._gl = void 0;\n            }\n        }\n        return this;\n    };\n    Engine.prototype.emitStartEvent = function () {\n        var _this = this;\n        this._users.forEach(function (user) {\n            _this.emitContextGain(user);\n        });\n        this._commands.forEach(function (command) {\n            _this.emitContextGain(command);\n        });\n    };\n    Engine.prototype.emitContextGain = function (consumer) {\n        if (this._gl.isContextLost()) {\n            consumer.contextLost();\n        }\n        else {\n            consumer.contextGain();\n        }\n    };\n    Engine.prototype.emitStopEvent = function () {\n        var _this = this;\n        this._users.forEach(function (user) {\n            _this.emitContextFree(user);\n        });\n        this._commands.forEach(function (command) {\n            _this.emitContextFree(command);\n        });\n    };\n    Engine.prototype.emitContextFree = function (consumer) {\n        if (this._gl.isContextLost()) {\n            consumer.contextLost();\n        }\n        else {\n            consumer.contextFree();\n        }\n    };\n    /**\n     * @param consumer\n     */\n    Engine.prototype.synchronize = function (consumer) {\n        if (this._gl) {\n            this.emitContextGain(consumer);\n        }\n        else {\n            // FIXME: Broken symmetry?\n        }\n        return this;\n    };\n    /**\n     *\n     */\n    Engine.prototype.getCacheGeometry = function (geometryKey) {\n        mustBeNonNullObject('geometryKey', geometryKey);\n        mustBeString('geometryKey.kind', geometryKey.kind);\n        var key = JSON.stringify(geometryKey);\n        var geometry = this.geometries[key];\n        if (geometry && geometry.addRef) {\n            geometry.addRef();\n        }\n        return geometry;\n    };\n    /**\n     *\n     */\n    Engine.prototype.putCacheGeometry = function (geometryKey, geometry) {\n        mustBeNonNullObject('geometryKey', geometryKey);\n        mustBeNonNullObject('geometry', geometry);\n        mustBeString('geometryKey.kind', geometryKey.kind);\n        var key = JSON.stringify(geometryKey);\n        this.geometries[key] = geometry;\n    };\n    /**\n     *\n     */\n    Engine.prototype.getCacheMaterial = function (materialKey) {\n        mustBeNonNullObject('materialKey', materialKey);\n        mustBeString('materialKey.kind', materialKey.kind);\n        var key = JSON.stringify(materialKey);\n        var material = this.materials[key];\n        if (material && material.addRef) {\n            material.addRef();\n        }\n        return material;\n    };\n    /**\n     *\n     */\n    Engine.prototype.putCacheMaterial = function (materialKey, material) {\n        mustBeNonNullObject('materialKey', materialKey);\n        mustBeNonNullObject('material', material);\n        mustBeString('materialKey.kind', materialKey.kind);\n        var key = JSON.stringify(materialKey);\n        this.materials[key] = material;\n    };\n    return Engine;\n}(ShareableBase));\nexport { Engine };\n","import * as tslib_1 from \"tslib\";\nimport { ShareableBase } from '../core/ShareableBase';\n/**\n * Displays details about the WegGL version to the console.\n */\nvar VersionLogger = (function (_super) {\n    tslib_1.__extends(VersionLogger, _super);\n    function VersionLogger(contextManager) {\n        var _this = _super.call(this) || this;\n        _this.contextManager = contextManager;\n        _this.setLoggingName(\"VersionLogger\");\n        return _this;\n    }\n    VersionLogger.prototype.destructor = function (levelUp) {\n        _super.prototype.destructor.call(this, levelUp + 1);\n    };\n    VersionLogger.prototype.contextFree = function () {\n        // Do nothing.\n    };\n    VersionLogger.prototype.contextGain = function () {\n        var gl = this.contextManager.gl;\n        console.log(gl.getParameter(gl.VERSION));\n    };\n    VersionLogger.prototype.contextLost = function () {\n        // Do nothing.\n    };\n    return VersionLogger;\n}(ShareableBase));\nexport { VersionLogger };\n","import { isDefined } from '../checks/isDefined';\n/**\n * Returns the WebGLRenderingContext given a canvas.\n * canvas\n * attributes\n * If the canvas is undefined then an undefined value is returned for the context.\n */\nexport function initWebGL(canvas, attributes) {\n    // We'll be hyper-functional. An undefined canvas begets and undefined context.\n    // Clients must check their context output or canvas input.\n    if (isDefined(canvas)) {\n        var context;\n        try {\n            // Try to grab the standard context. If it fails, fallback to experimental.\n            context = (canvas.getContext('webgl', attributes) || canvas.getContext('experimental-webgl', attributes));\n        }\n        catch (e) {\n            // Do nothing.\n        }\n        if (context) {\n            return context;\n        }\n        else {\n            throw new Error(\"Unable to initialize WebGL. Your browser may not support it.\");\n        }\n    }\n    else {\n        // An undefined canvas results in an undefined context.\n        return void 0;\n    }\n}\n","import { BeginMode } from './BeginMode';\nimport { BlendingFactorDest } from './BlendingFactorDest';\nimport { BlendingFactorSrc } from './BlendingFactorSrc';\nimport { BufferObjects } from './BufferObjects';\nimport { Capability } from './Capability';\nimport { ClearBufferMask } from './ClearBufferMask';\nimport { DepthFunction } from './DepthFunction';\nimport { PixelFormat } from './PixelFormat';\nimport { PixelType } from './PixelType';\nimport { Usage } from './Usage';\nimport { mustBeEQ } from '../checks/mustBeEQ';\n/**\n * Verify that the enums match the values in the WebGL rendering context.\n */\nexport function checkEnums(gl) {\n    // BeginMode\n    mustBeEQ('LINE_LOOP', BeginMode.LINE_LOOP, gl.LINE_LOOP);\n    mustBeEQ('LINE_STRIP', BeginMode.LINE_STRIP, gl.LINE_STRIP);\n    mustBeEQ('LINES', BeginMode.LINES, gl.LINES);\n    mustBeEQ('POINTS', BeginMode.POINTS, gl.POINTS);\n    mustBeEQ('TRIANGLE_FAN', BeginMode.TRIANGLE_FAN, gl.TRIANGLE_FAN);\n    mustBeEQ('TRIANGLE_STRIP', BeginMode.TRIANGLE_STRIP, gl.TRIANGLE_STRIP);\n    mustBeEQ('TRIANGLES', BeginMode.TRIANGLES, gl.TRIANGLES);\n    // BlendingFactorDest\n    mustBeEQ('ZERO', BlendingFactorDest.ZERO, gl.ZERO);\n    mustBeEQ('ONE', BlendingFactorDest.ONE, gl.ONE);\n    mustBeEQ('SRC_COLOR', BlendingFactorDest.SRC_COLOR, gl.SRC_COLOR);\n    mustBeEQ('ONE_MINUS_SRC_COLOR', BlendingFactorDest.ONE_MINUS_SRC_COLOR, gl.ONE_MINUS_SRC_COLOR);\n    mustBeEQ('SRC_ALPHA', BlendingFactorDest.SRC_ALPHA, gl.SRC_ALPHA);\n    mustBeEQ('ONE_MINUS_SRC_ALPHA', BlendingFactorDest.ONE_MINUS_SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n    mustBeEQ('DST_ALPHA', BlendingFactorDest.DST_ALPHA, gl.DST_ALPHA);\n    mustBeEQ('ONE_MINUS_DST_ALPHA', BlendingFactorDest.ONE_MINUS_DST_ALPHA, gl.ONE_MINUS_DST_ALPHA);\n    // BlendingFactorSrc\n    mustBeEQ('ZERO', BlendingFactorSrc.ZERO, gl.ZERO);\n    mustBeEQ('ONE', BlendingFactorSrc.ONE, gl.ONE);\n    mustBeEQ('DST_COLOR', BlendingFactorSrc.DST_COLOR, gl.DST_COLOR);\n    mustBeEQ('ONE_MINUS_DST_COLOR', BlendingFactorSrc.ONE_MINUS_DST_COLOR, gl.ONE_MINUS_DST_COLOR);\n    mustBeEQ('SRC_ALPHA_SATURATE', BlendingFactorSrc.SRC_ALPHA_SATURATE, gl.SRC_ALPHA_SATURATE);\n    mustBeEQ('SRC_ALPHA', BlendingFactorSrc.SRC_ALPHA, gl.SRC_ALPHA);\n    mustBeEQ('ONE_MINUS_SRC_ALPHA', BlendingFactorSrc.ONE_MINUS_SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n    mustBeEQ('DST_ALPHA', BlendingFactorSrc.DST_ALPHA, gl.DST_ALPHA);\n    mustBeEQ('ONE_MINUS_DST_ALPHA', BlendingFactorSrc.ONE_MINUS_DST_ALPHA, gl.ONE_MINUS_DST_ALPHA);\n    // BufferObjects\n    mustBeEQ('ARRAY_BUFFER', BufferObjects.ARRAY_BUFFER, gl.ARRAY_BUFFER);\n    mustBeEQ('ARRAY_BUFFER_BINDING', BufferObjects.ARRAY_BUFFER_BINDING, gl.ARRAY_BUFFER_BINDING);\n    mustBeEQ('ELEMENT_ARRAY_BUFFER', BufferObjects.ELEMENT_ARRAY_BUFFER, gl.ELEMENT_ARRAY_BUFFER);\n    mustBeEQ('ELEMENT_ARRAY_BUFFER_BINDING', BufferObjects.ELEMENT_ARRAY_BUFFER_BINDING, gl.ELEMENT_ARRAY_BUFFER_BINDING);\n    // Capability\n    mustBeEQ('CULL_FACE', Capability.CULL_FACE, gl.CULL_FACE);\n    mustBeEQ('BLEND', Capability.BLEND, gl.BLEND);\n    mustBeEQ('DITHER', Capability.DITHER, gl.DITHER);\n    mustBeEQ('STENCIL_TEST', Capability.STENCIL_TEST, gl.STENCIL_TEST);\n    mustBeEQ('DEPTH_TEST', Capability.DEPTH_TEST, gl.DEPTH_TEST);\n    mustBeEQ('SCISSOR_TEST', Capability.SCISSOR_TEST, gl.SCISSOR_TEST);\n    mustBeEQ('POLYGON_OFFSET_FILL', Capability.POLYGON_OFFSET_FILL, gl.POLYGON_OFFSET_FILL);\n    mustBeEQ('SAMPLE_ALPHA_TO_COVERAGE', Capability.SAMPLE_ALPHA_TO_COVERAGE, gl.SAMPLE_ALPHA_TO_COVERAGE);\n    mustBeEQ('SAMPLE_COVERAGE', Capability.SAMPLE_COVERAGE, gl.SAMPLE_COVERAGE);\n    // ClearBufferMask\n    mustBeEQ('COLOR_BUFFER_BIT', ClearBufferMask.COLOR_BUFFER_BIT, gl.COLOR_BUFFER_BIT);\n    mustBeEQ('DEPTH_BUFFER_BIT', ClearBufferMask.DEPTH_BUFFER_BIT, gl.DEPTH_BUFFER_BIT);\n    mustBeEQ('STENCIL_BUFFER_BIT', ClearBufferMask.STENCIL_BUFFER_BIT, gl.STENCIL_BUFFER_BIT);\n    // DepthFunction\n    mustBeEQ('ALWAYS', DepthFunction.ALWAYS, gl.ALWAYS);\n    mustBeEQ('EQUAL', DepthFunction.EQUAL, gl.EQUAL);\n    mustBeEQ('GEQUAL', DepthFunction.GEQUAL, gl.GEQUAL);\n    mustBeEQ('GREATER', DepthFunction.GREATER, gl.GREATER);\n    mustBeEQ('LEQUAL', DepthFunction.LEQUAL, gl.LEQUAL);\n    mustBeEQ('LESS', DepthFunction.LESS, gl.LESS);\n    mustBeEQ('NEVER', DepthFunction.NEVER, gl.NEVER);\n    mustBeEQ('NOTEQUAL', DepthFunction.NOTEQUAL, gl.NOTEQUAL);\n    // PixelFormat\n    mustBeEQ('DEPTH_COMPONENT', PixelFormat.DEPTH_COMPONENT, gl.DEPTH_COMPONENT);\n    mustBeEQ('ALPHA', PixelFormat.ALPHA, gl.ALPHA);\n    mustBeEQ('RGB', PixelFormat.RGB, gl.RGB);\n    mustBeEQ('RGBA', PixelFormat.RGBA, gl.RGBA);\n    mustBeEQ('LUMINANCE', PixelFormat.LUMINANCE, gl.LUMINANCE);\n    mustBeEQ('LUMINANCE_ALPHA', PixelFormat.LUMINANCE_ALPHA, gl.LUMINANCE_ALPHA);\n    // PixelType\n    mustBeEQ('UNSIGNED_BYTE', PixelType.UNSIGNED_BYTE, gl.UNSIGNED_BYTE);\n    mustBeEQ('UNSIGNED_SHORT_4_4_4_4', PixelType.UNSIGNED_SHORT_4_4_4_4, gl.UNSIGNED_SHORT_4_4_4_4);\n    mustBeEQ('UNSIGNED_SHORT_5_5_5_1', PixelType.UNSIGNED_SHORT_5_5_5_1, gl.UNSIGNED_SHORT_5_5_5_1);\n    mustBeEQ('UNSIGNED_SHORT_5_6_5', PixelType.UNSIGNED_SHORT_5_6_5, gl.UNSIGNED_SHORT_5_6_5);\n    // Usage\n    mustBeEQ('STREAM_DRAW', Usage.STREAM_DRAW, gl.STREAM_DRAW);\n    mustBeEQ('STATIC_DRAW', Usage.STATIC_DRAW, gl.STATIC_DRAW);\n    mustBeEQ('DYNAMIC_DRAW', Usage.DYNAMIC_DRAW, gl.DYNAMIC_DRAW);\n    return gl;\n}\n","import { isNull } from '../checks/isNull';\nimport { mustBeObject } from '../checks/mustBeObject';\n/**\n * A wrapper around a <code>WebGLUniformLocation</code>.\n */\nvar Uniform = (function () {\n    function Uniform(info) {\n        if (!isNull(info)) {\n            mustBeObject('info', info);\n            this.name = info.name;\n        }\n    }\n    Uniform.prototype.contextFree = function () {\n        this.contextLost();\n    };\n    Uniform.prototype.contextGain = function (gl, program) {\n        this.contextLost();\n        this.gl = gl;\n        // If the location is null, no uniforms are updated and no error code is generated.\n        if (!isNull(this.name)) {\n            this.location = gl.getUniformLocation(program, this.name);\n        }\n        else {\n            this.location = null;\n        }\n    };\n    Uniform.prototype.contextLost = function () {\n        this.gl = void 0;\n        this.location = void 0;\n    };\n    Uniform.prototype.uniform1f = function (x) {\n        var gl = this.gl;\n        if (gl) {\n            gl.uniform1f(this.location, x);\n        }\n    };\n    Uniform.prototype.uniform1i = function (x) {\n        var gl = this.gl;\n        if (gl) {\n            gl.uniform1i(this.location, x);\n        }\n    };\n    Uniform.prototype.uniform2f = function (x, y) {\n        var gl = this.gl;\n        if (gl) {\n            gl.uniform2f(this.location, x, y);\n        }\n    };\n    Uniform.prototype.uniform2i = function (x, y) {\n        var gl = this.gl;\n        if (gl) {\n            gl.uniform2i(this.location, x, y);\n        }\n    };\n    Uniform.prototype.uniform3f = function (x, y, z) {\n        var gl = this.gl;\n        if (gl) {\n            gl.uniform3f(this.location, x, y, z);\n        }\n    };\n    Uniform.prototype.uniform3i = function (x, y, z) {\n        var gl = this.gl;\n        if (gl) {\n            gl.uniform3i(this.location, x, y, z);\n        }\n    };\n    Uniform.prototype.uniform4f = function (x, y, z, w) {\n        var gl = this.gl;\n        if (gl) {\n            gl.uniform4f(this.location, x, y, z, w);\n        }\n    };\n    Uniform.prototype.uniform4i = function (x, y, z, w) {\n        var gl = this.gl;\n        if (gl) {\n            gl.uniform4i(this.location, x, y, z, w);\n        }\n    };\n    /**\n     * Sets a uniform location of type <code>mat2</code> in the <code>WebGLProgram</code>.\n     */\n    Uniform.prototype.matrix2fv = function (transpose, value) {\n        var gl = this.gl;\n        if (gl) {\n            gl.uniformMatrix2fv(this.location, transpose, value);\n        }\n    };\n    /**\n     * Sets a uniform location of type <code>mat3</code> in a <code>WebGLProgram</code>.\n     */\n    Uniform.prototype.matrix3fv = function (transpose, value) {\n        var gl = this.gl;\n        if (gl) {\n            gl.uniformMatrix3fv(this.location, transpose, value);\n        }\n    };\n    /**\n     * Sets a uniform location of type <code>mat4</code> in a <code>WebGLProgram</code>.\n     */\n    Uniform.prototype.matrix4fv = function (transpose, value) {\n        var gl = this.gl;\n        if (gl) {\n            gl.uniformMatrix4fv(this.location, transpose, value);\n        }\n    };\n    Uniform.prototype.uniform1fv = function (data) {\n        var gl = this.gl;\n        if (gl) {\n            gl.uniform1fv(this.location, data);\n        }\n    };\n    Uniform.prototype.uniform2fv = function (data) {\n        var gl = this.gl;\n        if (gl) {\n            gl.uniform2fv(this.location, data);\n        }\n    };\n    Uniform.prototype.uniform3fv = function (data) {\n        var gl = this.gl;\n        if (gl) {\n            gl.uniform3fv(this.location, data);\n        }\n    };\n    Uniform.prototype.uniform4fv = function (data) {\n        var gl = this.gl;\n        if (gl) {\n            gl.uniform4fv(this.location, data);\n        }\n    };\n    Uniform.prototype.toString = function () {\n        return ['uniform', this.name].join(' ');\n    };\n    return Uniform;\n}());\nexport { Uniform };\n","import { mustSatisfy } from '../checks/mustSatisfy';\nimport { isObject } from '../checks/isObject';\nfunction beObject() {\n    return \"be an `object`\";\n}\nexport function mustBeObject(name, value, contextBuilder) {\n    mustSatisfy(name, isObject(value), beObject, contextBuilder);\n    return value;\n}\n","/**\n *\n */\nexport var TextureWrapMode;\n(function (TextureWrapMode) {\n    TextureWrapMode[TextureWrapMode[\"REPEAT\"] = 10497] = \"REPEAT\";\n    TextureWrapMode[TextureWrapMode[\"CLAMP_TO_EDGE\"] = 33071] = \"CLAMP_TO_EDGE\";\n    TextureWrapMode[TextureWrapMode[\"MIRRORED_REPEAT\"] = 33648] = \"MIRRORED_REPEAT\";\n})(TextureWrapMode || (TextureWrapMode = {}));\n","/**\n *\n */\nexport var TextureTarget;\n(function (TextureTarget) {\n    TextureTarget[TextureTarget[\"TEXTURE_2D\"] = 3553] = \"TEXTURE_2D\";\n    TextureTarget[TextureTarget[\"TEXTURE\"] = 5890] = \"TEXTURE\";\n})(TextureTarget || (TextureTarget = {}));\nexport function checkTextureTarget(name, target) {\n    switch (target) {\n        case TextureTarget.TEXTURE_2D:\n        case TextureTarget.TEXTURE: {\n            return;\n        }\n        default: {\n            throw new Error(name + \": target must be one of the enumerated values.\");\n        }\n    }\n}\n","/**\n *\n */\nexport var TextureMinFilter;\n(function (TextureMinFilter) {\n    TextureMinFilter[TextureMinFilter[\"NEAREST\"] = 9728] = \"NEAREST\";\n    TextureMinFilter[TextureMinFilter[\"LINEAR\"] = 9729] = \"LINEAR\";\n    TextureMinFilter[TextureMinFilter[\"NEAREST_MIPMAP_NEAREST\"] = 9984] = \"NEAREST_MIPMAP_NEAREST\";\n    TextureMinFilter[TextureMinFilter[\"LINEAR_MIPMAP_NEAREST\"] = 9985] = \"LINEAR_MIPMAP_NEAREST\";\n    TextureMinFilter[TextureMinFilter[\"NEAREST_MIPMAP_LINEAR\"] = 9986] = \"NEAREST_MIPMAP_LINEAR\";\n    TextureMinFilter[TextureMinFilter[\"LINEAR_MIPMAP_LINEAR\"] = 9987] = \"LINEAR_MIPMAP_LINEAR\";\n})(TextureMinFilter || (TextureMinFilter = {}));\n","/**\n *\n */\nexport var TextureMagFilter;\n(function (TextureMagFilter) {\n    TextureMagFilter[TextureMagFilter[\"NEAREST\"] = 9728] = \"NEAREST\";\n    TextureMagFilter[TextureMagFilter[\"LINEAR\"] = 9729] = \"LINEAR\";\n})(TextureMagFilter || (TextureMagFilter = {}));\n","import * as tslib_1 from \"tslib\";\nimport { makeWebGLShader } from './makeWebGLShader';\nimport { mustBeNumber } from '../checks/mustBeNumber';\nimport { mustBeString } from '../checks/mustBeString';\nimport { mustBeUndefined } from '../checks/mustBeUndefined';\nimport { ShareableContextConsumer } from './ShareableContextConsumer';\n/**\n *\n */\nvar Shader = (function (_super) {\n    tslib_1.__extends(Shader, _super);\n    function Shader(source, type, engine) {\n        var _this = _super.call(this, engine) || this;\n        _this.setLoggingName('Shader');\n        _this._source = mustBeString('source', source);\n        _this._shaderType = mustBeNumber('type', type);\n        return _this;\n    }\n    Shader.prototype.destructor = function (levelUp) {\n        _super.prototype.destructor.call(this, levelUp + 1);\n        mustBeUndefined(this.getLoggingName(), this._shader);\n    };\n    Shader.prototype.contextFree = function () {\n        if (this._shader) {\n            this.contextManager.gl.deleteShader(this._shader);\n            this._shader = void 0;\n        }\n        _super.prototype.contextFree.call(this);\n    };\n    Shader.prototype.contextGain = function () {\n        this._shader = makeWebGLShader(this.contextManager.gl, this._source, this._shaderType);\n        _super.prototype.contextGain.call(this);\n    };\n    Shader.prototype.contextLost = function () {\n        this._shader = void 0;\n        _super.prototype.contextLost.call(this);\n    };\n    return Shader;\n}(ShareableContextConsumer));\nexport { Shader };\n","function decodeType(gl, type) {\n    if (type === gl.VERTEX_SHADER) {\n        return \"VERTEX_SHADER\";\n    }\n    else if (type === gl.FRAGMENT_SHADER) {\n        return \"FRAGMENT_SHADER\";\n    }\n    else {\n        return \"type => \" + type + \" shader\";\n    }\n}\n/**\n *\n */\nexport function makeWebGLShader(gl, source, type) {\n    var shader = gl.createShader(type);\n    gl.shaderSource(shader, source);\n    gl.compileShader(shader);\n    var compiled = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\n    if (compiled) {\n        return shader;\n    }\n    else {\n        if (!gl.isContextLost()) {\n            var message = gl.getShaderInfoLog(shader);\n            gl.deleteShader(shader);\n            throw new Error(message);\n        }\n        else {\n            throw new Error(\"Context lost while compiling \" + decodeType(gl, type) + \".\");\n        }\n    }\n}\n","import * as tslib_1 from \"tslib\";\nimport { mustBeNonNullObject } from '../checks/mustBeNonNullObject';\nimport { ShareableArray } from '../collections/ShareableArray';\nimport { ShareableContextConsumer } from '../core/ShareableContextConsumer';\n/**\n * A collection of Renderable objects.\n */\nvar Scene = (function (_super) {\n    tslib_1.__extends(Scene, _super);\n    function Scene(contextManager, levelUp) {\n        if (levelUp === void 0) { levelUp = 0; }\n        var _this = _super.call(this, contextManager) || this;\n        _this.setLoggingName('Scene');\n        mustBeNonNullObject('contextManager', contextManager);\n        _this._drawables = new ShareableArray([]);\n        if (levelUp === 0) {\n            _this.synchUp();\n        }\n        return _this;\n    }\n    Scene.prototype.destructor = function (levelUp) {\n        if (levelUp === 0) {\n            this.cleanUp();\n        }\n        this._drawables.release();\n        this._drawables = void 0;\n        _super.prototype.destructor.call(this, levelUp + 1);\n    };\n    Scene.prototype.add = function (drawable) {\n        mustBeNonNullObject('drawable', drawable);\n        this._drawables.push(drawable);\n    };\n    Scene.prototype.contains = function (drawable) {\n        mustBeNonNullObject('drawable', drawable);\n        return this._drawables.indexOf(drawable) >= 0;\n    };\n    /**\n     * @deprecated. Use the render method instead.\n     */\n    Scene.prototype.draw = function (ambients) {\n        console.warn(\"Scene.draw is deprecated. Please use the Scene.render method instead.\");\n        this.render(ambients);\n    };\n    /**\n     * Traverses the collection of Renderable objects, calling render(ambients) on each one.\n     * The rendering takes place in two stages.\n     * In the first stage, non-transparent objects are drawn.\n     * In the second state, transparent objects are drawn.\n     */\n    Scene.prototype.render = function (ambients) {\n        var gl = this.gl;\n        if (gl) {\n            var ds = this._drawables;\n            var iLen = ds.length;\n            /**\n             * true is non-transparent objects exist.\n             */\n            var passOne = false;\n            /**\n             * true if transparent objects exist.\n             */\n            var passTwo = false;\n            // Zeroth pass through objects determines what kind of objects exist.\n            for (var i = 0; i < iLen; i++) {\n                var d = ds.getWeakRef(i);\n                if (d.transparent) {\n                    passTwo = true;\n                }\n                else {\n                    passOne = true;\n                }\n            }\n            if (passOne || passTwo) {\n                if (passTwo) {\n                    var previousMask = gl.getParameter(gl.DEPTH_WRITEMASK);\n                    if (passOne) {\n                        // Render non-transparent objects in the first pass.\n                        gl.depthMask(true);\n                        for (var i = 0; i < iLen; i++) {\n                            var d = ds.getWeakRef(i);\n                            if (!d.transparent) {\n                                d.render(ambients);\n                            }\n                        }\n                    }\n                    // Render transparent objects in the second pass.\n                    gl.depthMask(false);\n                    for (var i = 0; i < iLen; i++) {\n                        var d = ds.getWeakRef(i);\n                        if (d.transparent) {\n                            d.render(ambients);\n                        }\n                    }\n                    gl.depthMask(previousMask);\n                }\n                else {\n                    // There must be non-transparent objects, render them.\n                    for (var i = 0; i < iLen; i++) {\n                        var d = ds.getWeakRef(i);\n                        if (!d.transparent) {\n                            d.render(ambients);\n                        }\n                    }\n                }\n            }\n        }\n    };\n    Scene.prototype.find = function (match) {\n        return this._drawables.find(match);\n    };\n    Scene.prototype.findOne = function (match) {\n        return this._drawables.findOne(match);\n    };\n    Scene.prototype.findOneByName = function (name) {\n        return this.findOne(function (drawable) { return drawable.name === name; });\n    };\n    Scene.prototype.findByName = function (name) {\n        return this.find(function (drawable) { return drawable.name === name; });\n    };\n    Scene.prototype.remove = function (drawable) {\n        mustBeNonNullObject('drawable', drawable);\n        var index = this._drawables.indexOf(drawable);\n        if (index >= 0) {\n            this._drawables.splice(index, 1).release();\n        }\n    };\n    Scene.prototype.contextFree = function () {\n        for (var i = 0; i < this._drawables.length; i++) {\n            var drawable = this._drawables.getWeakRef(i);\n            if (drawable.contextFree) {\n                drawable.contextFree();\n            }\n        }\n        _super.prototype.contextFree.call(this);\n    };\n    Scene.prototype.contextGain = function () {\n        for (var i = 0; i < this._drawables.length; i++) {\n            var drawable = this._drawables.getWeakRef(i);\n            if (drawable.contextGain) {\n                drawable.contextGain();\n            }\n        }\n        _super.prototype.contextGain.call(this);\n    };\n    Scene.prototype.contextLost = function () {\n        for (var i = 0; i < this._drawables.length; i++) {\n            var drawable = this._drawables.getWeakRef(i);\n            if (drawable.contextLost) {\n                drawable.contextLost();\n            }\n        }\n        _super.prototype.contextLost.call(this);\n    };\n    return Scene;\n}(ShareableContextConsumer));\nexport { Scene };\n","import * as tslib_1 from \"tslib\";\nimport { readOnly } from '../i18n/readOnly';\nimport { ShareableBase } from '../core/ShareableBase';\n/**\n * Essentially constructs the ShareableArray without incrementing the\n * reference count of the elements, and without creating zombies.\n */\nfunction transferOwnership(data) {\n    if (data) {\n        var result = new ShareableArray(data);\n        // The result has now taken ownership of the elements, so we can release.\n        for (var i = 0, iLength = data.length; i < iLength; i++) {\n            var element = data[i];\n            if (element && element.release) {\n                element.release();\n            }\n        }\n        return result;\n    }\n    else {\n        return void 0;\n    }\n}\n/**\n * <p>\n * Collection class for maintaining an array of types derived from Shareable.\n * </p>\n * <p>\n * Provides a safer way to maintain reference counts than a native array.\n * </p>\n */\nvar ShareableArray = (function (_super) {\n    tslib_1.__extends(ShareableArray, _super);\n    /**\n     *\n     */\n    function ShareableArray(elements) {\n        if (elements === void 0) { elements = []; }\n        var _this = _super.call(this) || this;\n        _this.setLoggingName('ShareableArray');\n        _this._elements = elements;\n        for (var i = 0, l = _this._elements.length; i < l; i++) {\n            var element = _this._elements[i];\n            if (element.addRef) {\n                element.addRef();\n            }\n        }\n        return _this;\n    }\n    /**\n     *\n     */\n    ShareableArray.prototype.destructor = function (levelUp) {\n        for (var i = 0, l = this._elements.length; i < l; i++) {\n            var element = this._elements[i];\n            if (element.release) {\n                element.release();\n            }\n        }\n        this._elements = void 0;\n        _super.prototype.destructor.call(this, levelUp + 1);\n    };\n    /**\n     *\n     */\n    ShareableArray.prototype.find = function (match) {\n        var result = new ShareableArray([]);\n        var elements = this._elements;\n        var iLen = elements.length;\n        for (var i = 0; i < iLen; i++) {\n            var candidate = elements[i];\n            if (match(candidate)) {\n                result.push(candidate);\n            }\n        }\n        return result;\n    };\n    /**\n     *\n     */\n    ShareableArray.prototype.findOne = function (match) {\n        var elements = this._elements;\n        for (var i = 0, iLength = elements.length; i < iLength; i++) {\n            var candidate = elements[i];\n            if (match(candidate)) {\n                if (candidate.addRef) {\n                    candidate.addRef();\n                }\n                return candidate;\n            }\n        }\n        return void 0;\n    };\n    /**\n     * Gets the element at the specified index, incrementing the reference count.\n     */\n    ShareableArray.prototype.get = function (index) {\n        var element = this.getWeakRef(index);\n        if (element) {\n            if (element.addRef) {\n                element.addRef();\n            }\n        }\n        return element;\n    };\n    /**\n     * Gets the element at the specified index, without incrementing the reference count.\n     */\n    ShareableArray.prototype.getWeakRef = function (index) {\n        return this._elements[index];\n    };\n    /**\n     *\n     */\n    ShareableArray.prototype.indexOf = function (searchElement, fromIndex) {\n        return this._elements.indexOf(searchElement, fromIndex);\n    };\n    Object.defineProperty(ShareableArray.prototype, \"length\", {\n        /**\n         *\n         */\n        get: function () {\n            if (this._elements) {\n                return this._elements.length;\n            }\n            else {\n                console.warn(\"ShareableArray is now a zombie, length is undefined\");\n                return void 0;\n            }\n        },\n        set: function (unused) {\n            throw new Error(readOnly('length').message);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * The slice() method returns a shallow copy of a portion of an array into a new array object.\n     *\n     * It does not remove elements from the original array.\n     */\n    ShareableArray.prototype.slice = function (begin, end) {\n        return new ShareableArray(this._elements.slice(begin, end));\n    };\n    /**\n     * The splice() method changes the content of an array by removing existing elements and/or adding new elements.\n     */\n    ShareableArray.prototype.splice = function (index, deleteCount) {\n        // The release burdon is on the caller now.\n        return transferOwnership(this._elements.splice(index, deleteCount));\n    };\n    /**\n     *\n     */\n    ShareableArray.prototype.shift = function () {\n        // No need to addRef because ownership is being transferred to caller.\n        return this._elements.shift();\n    };\n    /**\n     * Traverse without Reference Counting\n     */\n    ShareableArray.prototype.forEach = function (callback) {\n        return this._elements.forEach(callback);\n    };\n    /**\n     * Pushes <code>element</code> onto the tail of the list and increments the element reference count.\n     */\n    ShareableArray.prototype.push = function (element) {\n        if (element) {\n            if (element.addRef) {\n                element.addRef();\n            }\n        }\n        return this.pushWeakRef(element);\n    };\n    /**\n     * Pushes <code>element</code> onto the tail of the list <em>without</em> incrementing the <code>element</code> reference count.\n     */\n    ShareableArray.prototype.pushWeakRef = function (element) {\n        return this._elements.push(element);\n    };\n    /**\n     *\n     */\n    ShareableArray.prototype.pop = function () {\n        // No need to addRef because ownership is being transferred to caller.\n        return this._elements.pop();\n    };\n    /**\n     *\n     */\n    ShareableArray.prototype.unshift = function (element) {\n        if (element.addRef) {\n            element.addRef();\n        }\n        return this.unshiftWeakRef(element);\n    };\n    /**\n     * <p>\n     * <code>unshift</code> <em>without</em> incrementing the <code>element</code> reference count.\n     * </p>\n     */\n    ShareableArray.prototype.unshiftWeakRef = function (element) {\n        return this._elements.unshift(element);\n    };\n    return ShareableArray;\n}(ShareableBase));\nexport { ShareableArray };\n","export var PixelType;\n(function (PixelType) {\n    PixelType[PixelType[\"UNSIGNED_BYTE\"] = 5121] = \"UNSIGNED_BYTE\";\n    PixelType[PixelType[\"UNSIGNED_SHORT_4_4_4_4\"] = 32819] = \"UNSIGNED_SHORT_4_4_4_4\";\n    PixelType[PixelType[\"UNSIGNED_SHORT_5_5_5_1\"] = 32820] = \"UNSIGNED_SHORT_5_5_5_1\";\n    PixelType[PixelType[\"UNSIGNED_SHORT_5_6_5\"] = 33635] = \"UNSIGNED_SHORT_5_6_5\";\n})(PixelType || (PixelType = {}));\n","import * as tslib_1 from \"tslib\";\nimport { DataType } from './DataType';\nimport { PixelFormat } from './PixelFormat';\nimport { Texture } from './Texture';\nvar ImageTexture = (function (_super) {\n    tslib_1.__extends(ImageTexture, _super);\n    function ImageTexture(image, target, contextManager, levelUp) {\n        if (levelUp === void 0) { levelUp = 0; }\n        var _this = _super.call(this, target, contextManager, levelUp + 1) || this;\n        _this.image = image;\n        _this.setLoggingName('ImageTexture');\n        if (levelUp === 0) {\n            _this.synchUp();\n        }\n        return _this;\n    }\n    ImageTexture.prototype.destructor = function (levelUp) {\n        if (levelUp === 0) {\n            this.cleanUp();\n        }\n        _super.prototype.destructor.call(this, levelUp + 1);\n    };\n    Object.defineProperty(ImageTexture.prototype, \"naturalHeight\", {\n        get: function () {\n            if (this.image) {\n                return this.image.naturalHeight;\n            }\n            else {\n                return void 0;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ImageTexture.prototype, \"naturalWidth\", {\n        get: function () {\n            if (this.image) {\n                return this.image.naturalWidth;\n            }\n            else {\n                return void 0;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ImageTexture.prototype.upload = function () {\n        if (this.gl) {\n            this.gl.texImage2D(this._target, 0, PixelFormat.RGBA, PixelFormat.RGBA, DataType.UNSIGNED_BYTE, this.image);\n        }\n        else {\n            console.warn(this.getLoggingName() + \".upload() missing WebGL rendering context.\");\n        }\n    };\n    return ImageTexture;\n}(Texture));\nexport { ImageTexture };\n","import * as tslib_1 from \"tslib\";\nimport { mustBeUndefined } from '../checks/mustBeUndefined';\nimport { ShareableContextConsumer } from './ShareableContextConsumer';\nimport { TextureParameterName } from './TextureParameterName';\nvar Texture = (function (_super) {\n    tslib_1.__extends(Texture, _super);\n    function Texture(target, contextManager, levelUp) {\n        if (levelUp === void 0) { levelUp = 0; }\n        var _this = _super.call(this, contextManager) || this;\n        _this.setLoggingName('Texture');\n        _this._target = target;\n        if (levelUp === 0) {\n            _this.synchUp();\n        }\n        return _this;\n    }\n    Texture.prototype.destructor = function (levelUp) {\n        if (levelUp === 0) {\n            this.cleanUp();\n        }\n        _super.prototype.destructor.call(this, levelUp + 1);\n        mustBeUndefined(this.getLoggingName(), this._texture);\n    };\n    Texture.prototype.contextFree = function () {\n        if (this._texture) {\n            this.gl.deleteTexture(this._texture);\n            this._texture = void 0;\n            _super.prototype.contextFree.call(this);\n        }\n    };\n    Texture.prototype.contextGain = function () {\n        if (!this._texture) {\n            _super.prototype.contextGain.call(this);\n            this._texture = this.contextManager.gl.createTexture();\n        }\n    };\n    Texture.prototype.contextLost = function () {\n        this._texture = void 0;\n        _super.prototype.contextLost.call(this);\n    };\n    /**\n     *\n     */\n    Texture.prototype.bind = function () {\n        if (this.gl) {\n            this.gl.bindTexture(this._target, this._texture);\n        }\n        else {\n            console.warn(this.getLoggingName() + \".bind() missing WebGL rendering context.\");\n        }\n    };\n    /**\n     *\n     */\n    Texture.prototype.unbind = function () {\n        if (this.gl) {\n            this.gl.bindTexture(this._target, null);\n        }\n        else {\n            console.warn(this.getLoggingName() + \".unbind() missing WebGL rendering context.\");\n        }\n    };\n    Object.defineProperty(Texture.prototype, \"minFilter\", {\n        get: function () {\n            throw new Error('minFilter is write-only');\n        },\n        set: function (filter) {\n            if (this.gl) {\n                this.bind();\n                this.gl.texParameteri(this._target, TextureParameterName.TEXTURE_MIN_FILTER, filter);\n                this.unbind();\n            }\n            else {\n                console.warn(this.getLoggingName() + \".minFilter missing WebGL rendering context.\");\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Texture.prototype, \"magFilter\", {\n        get: function () {\n            throw new Error('magFilter is write-only');\n        },\n        set: function (filter) {\n            if (this.gl) {\n                this.bind();\n                this.gl.texParameteri(this._target, TextureParameterName.TEXTURE_MAG_FILTER, filter);\n                this.unbind();\n            }\n            else {\n                console.warn(this.getLoggingName() + \".magFilter missing WebGL rendering context.\");\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Texture.prototype, \"wrapS\", {\n        get: function () {\n            throw new Error('wrapS is write-only');\n        },\n        set: function (mode) {\n            if (this.gl) {\n                this.bind();\n                this.gl.texParameteri(this._target, TextureParameterName.TEXTURE_WRAP_S, mode);\n                this.unbind();\n            }\n            else {\n                console.warn(this.getLoggingName() + \".wrapS missing WebGL rendering context.\");\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Texture.prototype, \"wrapT\", {\n        get: function () {\n            throw new Error('wrapT is write-only');\n        },\n        set: function (mode) {\n            if (this.gl) {\n                this.bind();\n                this.gl.texParameteri(this._target, TextureParameterName.TEXTURE_WRAP_T, mode);\n                this.unbind();\n            }\n            else {\n                console.warn(this.getLoggingName() + \".wrapT missing WebGL rendering context.\");\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     *\n     */\n    Texture.prototype.upload = function () {\n        throw new Error(this.getLoggingName() + \".upload() must be implemented.\");\n    };\n    return Texture;\n}(ShareableContextConsumer));\nexport { Texture };\n","/**\n *\n */\nexport var TextureParameterName;\n(function (TextureParameterName) {\n    TextureParameterName[TextureParameterName[\"TEXTURE_MAG_FILTER\"] = 10240] = \"TEXTURE_MAG_FILTER\";\n    TextureParameterName[TextureParameterName[\"TEXTURE_MIN_FILTER\"] = 10241] = \"TEXTURE_MIN_FILTER\";\n    TextureParameterName[TextureParameterName[\"TEXTURE_WRAP_S\"] = 10242] = \"TEXTURE_WRAP_S\";\n    TextureParameterName[TextureParameterName[\"TEXTURE_WRAP_T\"] = 10243] = \"TEXTURE_WRAP_T\";\n})(TextureParameterName || (TextureParameterName = {}));\n","export var PixelFormat;\n(function (PixelFormat) {\n    PixelFormat[PixelFormat[\"DEPTH_COMPONENT\"] = 6402] = \"DEPTH_COMPONENT\";\n    PixelFormat[PixelFormat[\"ALPHA\"] = 6406] = \"ALPHA\";\n    PixelFormat[PixelFormat[\"RGB\"] = 6407] = \"RGB\";\n    PixelFormat[PixelFormat[\"RGBA\"] = 6408] = \"RGBA\";\n    PixelFormat[PixelFormat[\"LUMINANCE\"] = 6409] = \"LUMINANCE\";\n    PixelFormat[PixelFormat[\"LUMINANCE_ALPHA\"] = 6410] = \"LUMINANCE_ALPHA\";\n})(PixelFormat || (PixelFormat = {}));\n","/**\n * Canonical variable names, which also act as semantic identifiers for name overrides.\n * These names must be stable to avoid breaking custom vertex and fragment shaders.\n */\nvar GraphicsProgramSymbols = (function () {\n    function GraphicsProgramSymbols() {\n    }\n    /**\n     * 'aColor'\n     */\n    GraphicsProgramSymbols.ATTRIBUTE_COLOR = 'aColor';\n    /**\n     * 'aGeometryIndex'\n     */\n    GraphicsProgramSymbols.ATTRIBUTE_GEOMETRY_INDEX = 'aGeometryIndex';\n    /**\n     * 'aNormal'\n     */\n    GraphicsProgramSymbols.ATTRIBUTE_NORMAL = 'aNormal';\n    /**\n     * 'aOpacity'\n     */\n    GraphicsProgramSymbols.ATTRIBUTE_OPACITY = 'aOpacity';\n    /**\n     * 'aPosition'\n     */\n    GraphicsProgramSymbols.ATTRIBUTE_POSITION = 'aPosition';\n    /**\n     * 'aTangent'\n     */\n    GraphicsProgramSymbols.ATTRIBUTE_TANGENT = 'aTangent';\n    /**\n     * 'aCoords'\n     */\n    GraphicsProgramSymbols.ATTRIBUTE_COORDS = 'aCoords';\n    /**\n     * 'uAlpha'\n     */\n    GraphicsProgramSymbols.UNIFORM_ALPHA = 'uAlpha';\n    /**\n     * 'uAmbientLight'\n     */\n    GraphicsProgramSymbols.UNIFORM_AMBIENT_LIGHT = 'uAmbientLight';\n    /**\n     * 'uColor'\n     */\n    GraphicsProgramSymbols.UNIFORM_COLOR = 'uColor';\n    /**\n     * 'uDirectionalLightColor'\n     */\n    GraphicsProgramSymbols.UNIFORM_DIRECTIONAL_LIGHT_COLOR = 'uDirectionalLightColor';\n    /**\n     * 'uDirectionalLightDirection'\n     */\n    GraphicsProgramSymbols.UNIFORM_DIRECTIONAL_LIGHT_DIRECTION = 'uDirectionalLightDirection';\n    /**\n     * 'uImage'\n     */\n    GraphicsProgramSymbols.UNIFORM_IMAGE = 'uImage';\n    /**\n     * 'uOpacity'\n     */\n    GraphicsProgramSymbols.UNIFORM_OPACITY = 'uOpacity';\n    /**\n     * 'uPointLightColor'\n     */\n    GraphicsProgramSymbols.UNIFORM_POINT_LIGHT_COLOR = 'uPointLightColor';\n    /**\n     * 'uPointLightPosition'\n     */\n    GraphicsProgramSymbols.UNIFORM_POINT_LIGHT_POSITION = 'uPointLightPosition';\n    /**\n     * 'uPointSize'\n     */\n    GraphicsProgramSymbols.UNIFORM_POINT_SIZE = 'uPointSize';\n    /**\n     * 'uProjection'\n     */\n    GraphicsProgramSymbols.UNIFORM_PROJECTION_MATRIX = 'uProjection';\n    /**\n     * 'uReflectionOne'\n     */\n    GraphicsProgramSymbols.UNIFORM_REFLECTION_ONE_MATRIX = 'uReflectionOne';\n    /**\n     * 'uReflectionTwo'\n     */\n    GraphicsProgramSymbols.UNIFORM_REFLECTION_TWO_MATRIX = 'uReflectionTwo';\n    /**\n     * 'uModel'\n     */\n    GraphicsProgramSymbols.UNIFORM_MODEL_MATRIX = 'uModel';\n    /**\n     * 'uNormal'\n     */\n    GraphicsProgramSymbols.UNIFORM_NORMAL_MATRIX = 'uNormal';\n    /**\n     * 'uView'\n     */\n    GraphicsProgramSymbols.UNIFORM_VIEW_MATRIX = 'uView';\n    /**\n     * 'vColor'\n     */\n    GraphicsProgramSymbols.VARYING_COLOR = 'vColor';\n    /**\n     * 'vCoords'\n     */\n    GraphicsProgramSymbols.VARYING_COORDS = 'vCoords';\n    /**\n     * 'vLight'\n     */\n    GraphicsProgramSymbols.VARYING_LIGHT = 'vLight';\n    return GraphicsProgramSymbols;\n}());\nexport { GraphicsProgramSymbols };\n","import * as tslib_1 from \"tslib\";\nimport { DataType } from './DataType';\nimport { GeometryBase } from './GeometryBase';\nimport { IndexBuffer } from './IndexBuffer';\nimport { isArray } from '../checks/isArray';\nimport { isNull } from '../checks/isNull';\nimport { isUndefined } from '../checks/isUndefined';\nimport { mustBeArray } from '../checks/mustBeArray';\nimport { mustBeNonNullObject } from '../checks/mustBeNonNullObject';\nimport { vertexArraysFromPrimitive } from './vertexArraysFromPrimitive';\nimport { VertexBuffer } from './VertexBuffer';\nimport { Usage } from './Usage';\n/**\n * A Geometry that supports interleaved vertex buffers.\n */\nvar GeometryElements = (function (_super) {\n    tslib_1.__extends(GeometryElements, _super);\n    /**\n     *\n     */\n    function GeometryElements(contextManager, primitive, options, levelUp) {\n        if (options === void 0) { options = {}; }\n        if (levelUp === void 0) { levelUp = 0; }\n        var _this = _super.call(this, contextManager, levelUp + 1) || this;\n        /**\n         * Hard-coded to zero right now.\n         * This suggests that the index buffer could be used for several gl.drawElements(...)\n         */\n        _this.offset = 0;\n        _this.setLoggingName('GeometryElements');\n        mustBeNonNullObject('primitive', primitive);\n        var vertexArrays = vertexArraysFromPrimitive(primitive, options.order);\n        _this.mode = vertexArrays.mode;\n        _this.count = vertexArrays.indices.length;\n        _this.ibo = new IndexBuffer(contextManager, new Uint16Array(vertexArrays.indices), Usage.STATIC_DRAW);\n        _this.stride = vertexArrays.stride;\n        if (!isNull(vertexArrays.pointers) && !isUndefined(vertexArrays.pointers)) {\n            if (isArray(vertexArrays.pointers)) {\n                _this.pointers = vertexArrays.pointers;\n            }\n            else {\n                mustBeArray('data.pointers', vertexArrays.pointers);\n            }\n        }\n        else {\n            _this.pointers = [];\n        }\n        _this.vbo = new VertexBuffer(contextManager, new Float32Array(vertexArrays.attributes), Usage.STATIC_DRAW);\n        if (levelUp === 0) {\n            _this.synchUp();\n        }\n        return _this;\n    }\n    /**\n     *\n     */\n    GeometryElements.prototype.resurrector = function (levelUp) {\n        _super.prototype.resurrector.call(this, levelUp + 1);\n        this.setLoggingName('GeometryElements');\n        this.ibo.addRef();\n        this.vbo.addRef();\n        if (levelUp === 0) {\n            this.synchUp();\n        }\n    };\n    /**\n     *\n     */\n    GeometryElements.prototype.destructor = function (levelUp) {\n        if (levelUp === 0) {\n            this.cleanUp();\n        }\n        this.ibo.release();\n        this.vbo.release();\n        _super.prototype.destructor.call(this, levelUp + 1);\n    };\n    GeometryElements.prototype.contextFree = function () {\n        this.ibo.contextFree();\n        this.vbo.contextFree();\n        _super.prototype.contextFree.call(this);\n    };\n    GeometryElements.prototype.contextGain = function () {\n        this.ibo.contextGain();\n        this.vbo.contextGain();\n        _super.prototype.contextGain.call(this);\n    };\n    GeometryElements.prototype.contextLost = function () {\n        this.ibo.contextLost();\n        this.vbo.contextLost();\n        _super.prototype.contextLost.call(this);\n    };\n    GeometryElements.prototype.bind = function (material) {\n        this.vbo.bind();\n        var pointers = this.pointers;\n        if (pointers) {\n            var iLength = pointers.length;\n            for (var i = 0; i < iLength; i++) {\n                var pointer = pointers[i];\n                var attrib = material.getAttrib(pointer.name);\n                if (attrib) {\n                    attrib.config(pointer.size, pointer.type, pointer.normalized, this.stride, pointer.offset);\n                    attrib.enable();\n                }\n            }\n        }\n        this.ibo.bind();\n        return this;\n    };\n    GeometryElements.prototype.unbind = function (material) {\n        this.ibo.unbind();\n        var pointers = this.pointers;\n        if (pointers) {\n            var iLength = pointers.length;\n            for (var i = 0; i < iLength; i++) {\n                var pointer = pointers[i];\n                var attrib = material.getAttrib(pointer.name);\n                if (attrib) {\n                    attrib.disable();\n                }\n            }\n        }\n        this.vbo.unbind();\n        return this;\n    };\n    GeometryElements.prototype.draw = function () {\n        if (this.gl) {\n            if (this.count) {\n                this.gl.drawElements(this.mode, this.count, DataType.UNSIGNED_SHORT, this.offset);\n            }\n        }\n        return this;\n    };\n    return GeometryElements;\n}(GeometryBase));\nexport { GeometryElements };\n","import { mustSatisfy } from '../checks/mustSatisfy';\nimport { isArray } from '../checks/isArray';\nfunction beAnArray() {\n    return \"be an array\";\n}\nexport function mustBeArray(name, value, contextBuilder) {\n    mustSatisfy(name, isArray(value), beAnArray, contextBuilder);\n    return value;\n}\n","export function isArray(x) {\n    return Object.prototype.toString.call(x) === '[object Array]';\n}\n","import * as tslib_1 from \"tslib\";\nimport { BufferObjects } from './BufferObjects';\nimport { mustBeUndefined } from '../checks/mustBeUndefined';\nimport { ShareableContextConsumer } from './ShareableContextConsumer';\n/**\n * A wrapper around a WebGLBuffer with binding to ELEMENT_ARRAY_BUFFER.\n */\nvar IndexBuffer = (function (_super) {\n    tslib_1.__extends(IndexBuffer, _super);\n    /**\n     *\n     */\n    function IndexBuffer(contextManager, data, usage, levelUp) {\n        if (levelUp === void 0) { levelUp = 0; }\n        var _this = _super.call(this, contextManager) || this;\n        _this.data = data;\n        _this.usage = usage;\n        _this.setLoggingName('IndexBuffer');\n        if (levelUp === 0) {\n            _this.synchUp();\n        }\n        return _this;\n    }\n    /**\n     *\n     */\n    IndexBuffer.prototype.resurrector = function (levelUp) {\n        _super.prototype.resurrector.call(this, levelUp + 1);\n        this.setLoggingName('IndexBuffer');\n        if (levelUp === 0) {\n            this.synchUp();\n        }\n    };\n    /**\n     *\n     */\n    IndexBuffer.prototype.destructor = function (levelUp) {\n        if (levelUp === 0) {\n            this.cleanUp();\n        }\n        mustBeUndefined(this.getLoggingName(), this.webGLBuffer);\n        _super.prototype.destructor.call(this, levelUp + 1);\n    };\n    IndexBuffer.prototype.upload = function () {\n        var gl = this.gl;\n        if (gl) {\n            if (this.webGLBuffer) {\n                if (this.data) {\n                    gl.bufferData(BufferObjects.ELEMENT_ARRAY_BUFFER, this.data, this.usage);\n                }\n            }\n        }\n    };\n    IndexBuffer.prototype.contextFree = function () {\n        if (this.webGLBuffer) {\n            var gl = this.gl;\n            if (gl) {\n                gl.deleteBuffer(this.webGLBuffer);\n            }\n            else {\n                console.error(this.getLoggingName() + \" must leak WebGLBuffer because WebGLRenderingContext is \" + typeof gl);\n            }\n            this.webGLBuffer = void 0;\n        }\n        else {\n            // It's a duplicate, ignore.\n        }\n        _super.prototype.contextFree.call(this);\n    };\n    IndexBuffer.prototype.contextGain = function () {\n        _super.prototype.contextGain.call(this);\n        var gl = this.gl;\n        if (!this.webGLBuffer) {\n            this.webGLBuffer = gl.createBuffer();\n            this.bind();\n            this.upload();\n            this.unbind();\n        }\n        else {\n            // It's a duplicate, ignore the call.\n        }\n    };\n    IndexBuffer.prototype.contextLost = function () {\n        this.webGLBuffer = void 0;\n        _super.prototype.contextLost.call(this);\n    };\n    /**\n     * Binds the underlying WebGLBuffer to the ELEMENT_ARRAY_BUFFER target.\n     */\n    IndexBuffer.prototype.bind = function () {\n        var gl = this.gl;\n        if (gl) {\n            gl.bindBuffer(BufferObjects.ELEMENT_ARRAY_BUFFER, this.webGLBuffer);\n        }\n    };\n    IndexBuffer.prototype.unbind = function () {\n        var gl = this.gl;\n        if (gl) {\n            gl.bindBuffer(BufferObjects.ELEMENT_ARRAY_BUFFER, null);\n        }\n    };\n    return IndexBuffer;\n}(ShareableContextConsumer));\nexport { IndexBuffer };\n","import * as tslib_1 from \"tslib\";\nimport { GeometryBase } from './GeometryBase';\nimport { mustBeNonNullObject } from '../checks/mustBeNonNullObject';\nimport { Usage } from './Usage';\nimport { vertexArraysFromPrimitive } from './vertexArraysFromPrimitive';\nimport { VertexBuffer } from './VertexBuffer';\n/**\n * A concrete Geometry for supporting drawArrays.\n */\nvar GeometryArrays = (function (_super) {\n    tslib_1.__extends(GeometryArrays, _super);\n    /**\n     *\n     */\n    function GeometryArrays(contextManager, primitive, options, levelUp) {\n        if (options === void 0) { options = {}; }\n        if (levelUp === void 0) { levelUp = 0; }\n        var _this = _super.call(this, contextManager, levelUp + 1) || this;\n        /**\n         * The <code>first</code> parameter in the drawArrays call.\n         * This is currently hard-code to zero because this class only supportes buffering one primitive.\n         */\n        _this.first = 0;\n        mustBeNonNullObject('primitive', primitive);\n        _this.setLoggingName('GeometryArrays');\n        // FIXME: order as an option\n        var vertexArrays = vertexArraysFromPrimitive(primitive, options.order);\n        _this.mode = vertexArrays.mode;\n        _this.vbo = new VertexBuffer(contextManager, new Float32Array(vertexArrays.attributes), Usage.STATIC_DRAW);\n        // FIXME: Hacky\n        _this.count = vertexArrays.attributes.length / (vertexArrays.stride / 4);\n        // FIXME: stride is not quite appropriate here because we don't have BYTES.\n        _this.stride = vertexArrays.stride;\n        _this.pointers = vertexArrays.pointers;\n        if (levelUp === 0) {\n            _this.synchUp();\n        }\n        return _this;\n    }\n    /**\n     *\n     */\n    GeometryArrays.prototype.resurrector = function (levelUp) {\n        _super.prototype.resurrector.call(this, levelUp + 1);\n        this.setLoggingName('GeometryArrays');\n        this.vbo.addRef();\n        if (levelUp === 0) {\n            this.synchUp();\n        }\n    };\n    /**\n     *\n     */\n    GeometryArrays.prototype.destructor = function (levelUp) {\n        if (levelUp === 0) {\n            this.cleanUp();\n        }\n        this.vbo.release();\n        _super.prototype.destructor.call(this, levelUp + 1);\n    };\n    GeometryArrays.prototype.bind = function (material) {\n        this.vbo.bind();\n        var pointers = this.pointers;\n        if (pointers) {\n            var iLength = pointers.length;\n            for (var i = 0; i < iLength; i++) {\n                var pointer = pointers[i];\n                var attrib = material.getAttrib(pointer.name);\n                if (attrib) {\n                    attrib.config(pointer.size, pointer.type, pointer.normalized, this.stride, pointer.offset);\n                    attrib.enable();\n                }\n            }\n        }\n        return this;\n    };\n    GeometryArrays.prototype.draw = function () {\n        if (this.gl) {\n            this.gl.drawArrays(this.mode, this.first, this.count);\n        }\n        return this;\n    };\n    GeometryArrays.prototype.unbind = function (material) {\n        var pointers = this.pointers;\n        if (pointers) {\n            var iLength = pointers.length;\n            for (var i = 0; i < iLength; i++) {\n                var pointer = pointers[i];\n                var attrib = material.getAttrib(pointer.name);\n                if (attrib) {\n                    attrib.disable();\n                }\n            }\n        }\n        this.vbo.unbind();\n        return this;\n    };\n    return GeometryArrays;\n}(GeometryBase));\nexport { GeometryArrays };\n","import * as tslib_1 from \"tslib\";\nimport { BufferObjects } from './BufferObjects';\nimport { mustBeUndefined } from '../checks/mustBeUndefined';\nimport { ShareableContextConsumer } from './ShareableContextConsumer';\n/**\n * A wrapper around a WebGLBuffer with binding to ARRAY_BUFFER.\n */\nvar VertexBuffer = (function (_super) {\n    tslib_1.__extends(VertexBuffer, _super);\n    /**\n     *\n     */\n    function VertexBuffer(contextManager, data, usage, levelUp) {\n        if (levelUp === void 0) { levelUp = 0; }\n        var _this = _super.call(this, contextManager) || this;\n        _this.data = data;\n        _this.usage = usage;\n        _this.setLoggingName('VertexBuffer');\n        if (levelUp === 0) {\n            _this.synchUp();\n        }\n        return _this;\n    }\n    /**\n     *\n     */\n    VertexBuffer.prototype.resurrector = function (levelUp) {\n        _super.prototype.resurrector.call(this, levelUp + 1);\n        this.setLoggingName('VertexBuffer');\n        if (levelUp === 0) {\n            this.synchUp();\n        }\n    };\n    /**\n     *\n     */\n    VertexBuffer.prototype.destructor = function (levelUp) {\n        if (levelUp === 0) {\n            this.cleanUp();\n        }\n        mustBeUndefined(this.getLoggingName(), this.webGLBuffer);\n        _super.prototype.destructor.call(this, levelUp + 1);\n    };\n    VertexBuffer.prototype.upload = function () {\n        var gl = this.gl;\n        if (gl) {\n            if (this.webGLBuffer) {\n                if (this.data) {\n                    gl.bufferData(BufferObjects.ARRAY_BUFFER, this.data, this.usage);\n                }\n            }\n        }\n    };\n    VertexBuffer.prototype.contextFree = function () {\n        if (this.webGLBuffer) {\n            var gl = this.gl;\n            if (gl) {\n                gl.deleteBuffer(this.webGLBuffer);\n            }\n            else {\n                console.error(this.getLoggingName() + \" must leak WebGLBuffer because WebGLRenderingContext is \" + typeof gl);\n            }\n            this.webGLBuffer = void 0;\n        }\n        else {\n            // It's a duplicate, ignore.\n        }\n        _super.prototype.contextFree.call(this);\n    };\n    VertexBuffer.prototype.contextGain = function () {\n        _super.prototype.contextGain.call(this);\n        var gl = this.gl;\n        if (!this.webGLBuffer) {\n            this.webGLBuffer = gl.createBuffer();\n            this.bind();\n            this.upload();\n            this.unbind();\n        }\n        else {\n            // It's a duplicate, ignore the call.\n        }\n    };\n    VertexBuffer.prototype.contextLost = function () {\n        this.webGLBuffer = void 0;\n        _super.prototype.contextLost.call(this);\n    };\n    VertexBuffer.prototype.bind = function () {\n        var gl = this.gl;\n        if (gl) {\n            gl.bindBuffer(BufferObjects.ARRAY_BUFFER, this.webGLBuffer);\n        }\n    };\n    VertexBuffer.prototype.unbind = function () {\n        var gl = this.gl;\n        if (gl) {\n            gl.bindBuffer(BufferObjects.ARRAY_BUFFER, null);\n        }\n    };\n    return VertexBuffer;\n}(ShareableContextConsumer));\nexport { VertexBuffer };\n","import { mustSatisfy } from '../checks/mustSatisfy';\nimport { isUndefined } from '../checks/isUndefined';\nfunction beUndefined() {\n    return \"be 'undefined'\";\n}\nexport function mustBeUndefined(name, value, contextBuilder) {\n    mustSatisfy(name, isUndefined(value), beUndefined, contextBuilder);\n    return value;\n}\n","export function isUndefined(arg) {\n    return (typeof arg === 'undefined');\n}\n","export var BufferObjects;\n(function (BufferObjects) {\n    BufferObjects[BufferObjects[\"ARRAY_BUFFER\"] = 34962] = \"ARRAY_BUFFER\";\n    BufferObjects[BufferObjects[\"ELEMENT_ARRAY_BUFFER\"] = 34963] = \"ELEMENT_ARRAY_BUFFER\";\n    BufferObjects[BufferObjects[\"ARRAY_BUFFER_BINDING\"] = 34964] = \"ARRAY_BUFFER_BINDING\";\n    BufferObjects[BufferObjects[\"ELEMENT_ARRAY_BUFFER_BINDING\"] = 34965] = \"ELEMENT_ARRAY_BUFFER_BINDING\";\n})(BufferObjects || (BufferObjects = {}));\n","import { computeAttributes } from './computeAttributes';\nimport { computePointers } from './computePointers';\nimport { computeStride } from './computeStride';\n/**\n * Converts the Primitive to the interleaved VertexArrays format.\n * This conversion is performed for eddiciency; it allows multiple attributes to be\n * combined into a single array of numbers so that it may be stored in a single vertex buffer.\n *\n * @param primitive The Primitive to be converted.\n * @param order The ordering of the attributes.\n */\nexport function vertexArraysFromPrimitive(primitive, order) {\n    if (primitive) {\n        var keys = order ? order : Object.keys(primitive.attributes);\n        var that = {\n            mode: primitive.mode,\n            indices: primitive.indices,\n            attributes: computeAttributes(primitive.attributes, keys),\n            stride: computeStride(primitive.attributes, keys),\n            pointers: computePointers(primitive.attributes, keys)\n        };\n        return that;\n    }\n    else {\n        return void 0;\n    }\n}\n","/**\n * Computes the stride for a given collection of attributes.\n */\nexport function computeStride(attributes, aNames) {\n    var aNamesLen = aNames.length;\n    var stride = 0;\n    for (var a = 0; a < aNamesLen; a++) {\n        var aName = aNames[a];\n        var attrib = attributes[aName];\n        stride += attrib.size * 4; // We're assuming that the data type is gl.FLOAT\n    }\n    return stride;\n}\n","import { DataType } from './DataType';\n/**\n * @deprecated\n */\nexport function computePointers(attributes, aNames) {\n    var aNamesLen = aNames.length;\n    var pointers = [];\n    var offset = 0;\n    for (var a = 0; a < aNamesLen; a++) {\n        var aName = aNames[a];\n        var attrib = attributes[aName];\n        // FIXME: It's a lot more complicated choosing these parameters than for the simple FLOAT case.\n        pointers.push({ name: aName, size: attrib.size, type: DataType.FLOAT, normalized: true, offset: offset });\n        offset += attrib.size * 4; // We're assuming that the data type is FLOAT\n    }\n    return pointers;\n}\n","import { computeCount } from './computeCount';\n/**\n * Computes the interleaved attribute values array.\n */\nexport function computeAttributes(attributes, aNames) {\n    var aNamesLen = aNames.length;\n    var values = [];\n    var iLen = computeCount(attributes, aNames);\n    for (var i = 0; i < iLen; i++) {\n        // Looping over the attribute name as the inner loop creates the interleaving.\n        for (var a = 0; a < aNamesLen; a++) {\n            var aName = aNames[a];\n            var attrib = attributes[aName];\n            var size = attrib.size;\n            for (var s = 0; s < size; s++) {\n                values.push(attrib.values[i * size + s]);\n            }\n        }\n    }\n    return values;\n}\n","import { mustBeInteger } from '../checks/mustBeInteger';\n/**\n * Computes the number of elements represented by the attribute values.\n */\nexport function computeCount(attribs, aNames) {\n    var aNamesLen = aNames.length;\n    // TODO: We currently return after computing the count for the first aName, but we should\n    // perform a consistency check.\n    for (var a = 0; a < aNamesLen; a++) {\n        var aName = aNames[a];\n        var attrib = attribs[aName];\n        var vLength = attrib.values.length;\n        var size = mustBeInteger('size', attrib.size);\n        return vLength / size;\n    }\n    return 0;\n}\n","/**\n * WebGLBuffer usage.\n */\nexport var Usage;\n(function (Usage) {\n    /**\n     * Contents of the buffer are likely to not be used often.\n     * Contents are written to the buffer, but not read.\n     */\n    Usage[Usage[\"STREAM_DRAW\"] = 35040] = \"STREAM_DRAW\";\n    /**\n     * Contents of the buffer are likely to be used often and not change often.\n     * Contents are written to the buffer, but not read.\n     */\n    Usage[Usage[\"STATIC_DRAW\"] = 35044] = \"STATIC_DRAW\";\n    /**\n     * Contents of the buffer are likely to be used often and change often.\n     * Contents are written to the buffer, but not read.\n     */\n    Usage[Usage[\"DYNAMIC_DRAW\"] = 35048] = \"DYNAMIC_DRAW\";\n})(Usage || (Usage = {}));\nexport function checkUsage(name, usage) {\n    switch (usage) {\n        case Usage.STREAM_DRAW:\n        case Usage.STATIC_DRAW:\n        case Usage.DYNAMIC_DRAW: {\n            return;\n        }\n        default: {\n            throw new Error(name + \": Usage must be one of the enumerated values.\");\n        }\n    }\n}\n","import * as tslib_1 from \"tslib\";\nimport { mustBeDefined } from '../checks/mustBeDefined';\nimport { notSupported } from '../i18n/notSupported';\nimport { ShareableContextConsumer } from './ShareableContextConsumer';\n/**\n * GeometryBase\n */\nvar GeometryBase = (function (_super) {\n    tslib_1.__extends(GeometryBase, _super);\n    /**\n     *\n     */\n    function GeometryBase(contextManager, levelUp) {\n        var _this = _super.call(this, contextManager) || this;\n        _this.setLoggingName(\"GeometryBase\");\n        if (levelUp === 0) {\n            _this.synchUp();\n        }\n        return _this;\n    }\n    /**\n     *\n     */\n    GeometryBase.prototype.resurrector = function (levelUp) {\n        _super.prototype.resurrector.call(this, levelUp + 1);\n        this.setLoggingName(\"GeometryBase\");\n        if (levelUp === 0) {\n            this.synchUp();\n        }\n    };\n    /**\n     *\n     */\n    GeometryBase.prototype.destructor = function (levelUp) {\n        if (levelUp === 0) {\n            this.cleanUp();\n        }\n        _super.prototype.destructor.call(this, levelUp + 1);\n    };\n    /**\n     *\n     */\n    GeometryBase.prototype.bind = function (material) {\n        mustBeDefined('material', material);\n        throw new Error(notSupported(\"bind(material: Material)\").message);\n    };\n    /**\n     *\n     */\n    GeometryBase.prototype.unbind = function (material) {\n        mustBeDefined('material', material);\n        throw new Error(notSupported(\"unbind(material: Material)\").message);\n    };\n    /**\n     *\n     */\n    GeometryBase.prototype.draw = function () {\n        throw new Error(notSupported('draw()').message);\n    };\n    return GeometryBase;\n}(ShareableContextConsumer));\nexport { GeometryBase };\n","import * as tslib_1 from \"tslib\";\nimport { mustBeNonNullObject } from '../checks/mustBeNonNullObject';\nimport { ShareableBase } from './ShareableBase';\n/**\n *\n */\nvar ShareableContextConsumer = (function (_super) {\n    tslib_1.__extends(ShareableContextConsumer, _super);\n    /**\n     *\n     */\n    function ShareableContextConsumer(contextManager) {\n        var _this = _super.call(this) || this;\n        _this.contextManager = contextManager;\n        /**\n         * Keep track of subscription state\n         */\n        _this.isSubscribed = false;\n        // The buck stops here so we must assert the existence of the contextManager. \n        mustBeNonNullObject('contextManager', contextManager);\n        _this.setLoggingName('ShareableContextConsumer');\n        contextManager.addRef();\n        _this.subscribe(false);\n        return _this;\n    }\n    /**\n     *\n     */\n    ShareableContextConsumer.prototype.resurrector = function (levelUp) {\n        _super.prototype.resurrector.call(this, levelUp + 1);\n        this.setLoggingName('ShareableContextConsumer');\n        this.contextManager.addRef();\n        this.subscribe(false);\n    };\n    /**\n     *\n     */\n    ShareableContextConsumer.prototype.destructor = function (levelUp) {\n        this.unsubscribe(false);\n        this.contextManager.release();\n        _super.prototype.destructor.call(this, levelUp + 1);\n    };\n    /**\n     * Instructs the consumer to subscribe to context events.\n     *\n     * This method is idempotent; calling it more than once with the same <code>ContextManager</code> does not change the state.\n     */\n    ShareableContextConsumer.prototype.subscribe = function (synchUp) {\n        if (!this.isSubscribed) {\n            this.contextManager.addContextListener(this);\n            this.isSubscribed = true;\n            if (synchUp) {\n                this.synchUp();\n            }\n        }\n    };\n    /**\n     * Instructs the consumer to unsubscribe from context events.\n     *\n     * This method is idempotent; calling it more than once does not change the state.\n     */\n    ShareableContextConsumer.prototype.unsubscribe = function (cleanUp) {\n        if (this.isSubscribed) {\n            this.contextManager.removeContextListener(this);\n            this.isSubscribed = false;\n            if (cleanUp) {\n                this.cleanUp();\n            }\n        }\n    };\n    /**\n     *\n     */\n    ShareableContextConsumer.prototype.synchUp = function () {\n        this.contextManager.synchronize(this);\n    };\n    /**\n     *\n     */\n    ShareableContextConsumer.prototype.cleanUp = function () {\n        if (this.gl) {\n            if (this.gl.isContextLost()) {\n                this.contextLost();\n            }\n            else {\n                this.contextFree();\n            }\n        }\n        else {\n            // There is no contextProvider so resources should already be clean.\n        }\n    };\n    ShareableContextConsumer.prototype.contextFree = function () {\n        // Do nothing.\n    };\n    ShareableContextConsumer.prototype.contextGain = function () {\n        // Do nothing.\n    };\n    ShareableContextConsumer.prototype.contextLost = function () {\n        // Do nothing.\n    };\n    Object.defineProperty(ShareableContextConsumer.prototype, \"gl\", {\n        /**\n         * Provides access to the underlying WebGL context.\n         */\n        get: function () {\n            return this.contextManager.gl;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return ShareableContextConsumer;\n}(ShareableBase));\nexport { ShareableContextConsumer };\n","import { mustSatisfy } from '../checks/mustSatisfy';\nimport { isNull } from '../checks/isNull';\nimport { isObject } from '../checks/isObject';\nfunction beObject() {\n    return \"be a non-null `object`\";\n}\nexport function mustBeNonNullObject(name, value, contextBuilder) {\n    mustSatisfy(name, isObject(value) && !isNull(value), beObject, contextBuilder);\n    return value;\n}\n","export function isObject(x) {\n    return (typeof x === 'object');\n}\n","export function isNull(x) {\n    return x === null;\n}\n","import { mustBeString } from '../checks/mustBeString';\nexport function notSupported(name) {\n    mustBeString('name', name);\n    var message = {\n        get message() {\n            return \"Method `\" + name + \"` is not supported.\";\n        }\n    };\n    return message;\n}\n","import { mustSatisfy } from '../checks/mustSatisfy';\nimport { isDefined } from '../checks/isDefined';\nfunction beDefined() {\n    return \"not be 'undefined'\";\n}\nexport function mustBeDefined(name, value, contextBuilder) {\n    mustSatisfy(name, isDefined(value), beDefined, contextBuilder);\n    return value;\n}\n","/**\n * An enumeration specifying the depth comparison function, which sets the conditions\n * under which the pixel will be drawn. The default value is LESS.\n */\nexport var DepthFunction;\n(function (DepthFunction) {\n    /**\n     * never pass\n     */\n    DepthFunction[DepthFunction[\"NEVER\"] = 512] = \"NEVER\";\n    /**\n     * pass if the incoming value is less than the depth buffer value\n     */\n    DepthFunction[DepthFunction[\"LESS\"] = 513] = \"LESS\";\n    /**\n     * pass if the incoming value equals the the depth buffer value\n     */\n    DepthFunction[DepthFunction[\"EQUAL\"] = 514] = \"EQUAL\";\n    /**\n     * pass if the incoming value is less than or equal to the depth buffer value\n     */\n    DepthFunction[DepthFunction[\"LEQUAL\"] = 515] = \"LEQUAL\";\n    /**\n     * pass if the incoming value is greater than the depth buffer value\n     */\n    DepthFunction[DepthFunction[\"GREATER\"] = 516] = \"GREATER\";\n    /**\n     * pass if the incoming value is not equal to the depth buffer value\n     */\n    DepthFunction[DepthFunction[\"NOTEQUAL\"] = 517] = \"NOTEQUAL\";\n    /**\n     * pass if the incoming value is greater than or equal to the depth buffer value\n     */\n    DepthFunction[DepthFunction[\"GEQUAL\"] = 518] = \"GEQUAL\";\n    /**\n     * always pass\n     */\n    DepthFunction[DepthFunction[\"ALWAYS\"] = 519] = \"ALWAYS\";\n})(DepthFunction || (DepthFunction = {}));\n","/**\n * DataType with values from WebGLRenderingContextBase.\n *\n * https://www.khronos.org/registry/webgl/specs/1.0/\n */\nexport var DataType;\n(function (DataType) {\n    DataType[DataType[\"BYTE\"] = 5120] = \"BYTE\";\n    DataType[DataType[\"UNSIGNED_BYTE\"] = 5121] = \"UNSIGNED_BYTE\";\n    DataType[DataType[\"SHORT\"] = 5122] = \"SHORT\";\n    DataType[DataType[\"UNSIGNED_SHORT\"] = 5123] = \"UNSIGNED_SHORT\";\n    DataType[DataType[\"INT\"] = 5124] = \"INT\";\n    DataType[DataType[\"UNSIGNED_INT\"] = 5125] = \"UNSIGNED_INT\";\n    DataType[DataType[\"FLOAT\"] = 5126] = \"FLOAT\";\n})(DataType || (DataType = {}));\n","export var ClearBufferMask;\n(function (ClearBufferMask) {\n    ClearBufferMask[ClearBufferMask[\"DEPTH_BUFFER_BIT\"] = 256] = \"DEPTH_BUFFER_BIT\";\n    ClearBufferMask[ClearBufferMask[\"STENCIL_BUFFER_BIT\"] = 1024] = \"STENCIL_BUFFER_BIT\";\n    ClearBufferMask[ClearBufferMask[\"COLOR_BUFFER_BIT\"] = 16384] = \"COLOR_BUFFER_BIT\";\n})(ClearBufferMask || (ClearBufferMask = {}));\n","/**\n * A capability that may be enabled or disabled for a WebGLRenderingContext.\n */\nexport var Capability;\n(function (Capability) {\n    /**\n     * Let polygons be culled.\n     */\n    Capability[Capability[\"CULL_FACE\"] = 2884] = \"CULL_FACE\";\n    /**\n     * Blend computed fragment color values with color buffer values.\n     */\n    Capability[Capability[\"BLEND\"] = 3042] = \"BLEND\";\n    /**\n     *\n     */\n    Capability[Capability[\"DITHER\"] = 3024] = \"DITHER\";\n    /**\n     *\n     */\n    Capability[Capability[\"STENCIL_TEST\"] = 2960] = \"STENCIL_TEST\";\n    /**\n     * Enable updates of the depth buffer.\n     */\n    Capability[Capability[\"DEPTH_TEST\"] = 2929] = \"DEPTH_TEST\";\n    /**\n     * Abandon fragments outside a scissor rectangle.\n     */\n    Capability[Capability[\"SCISSOR_TEST\"] = 3089] = \"SCISSOR_TEST\";\n    /**\n     * Add an offset to the depth values of a polygon's fragments.\n     */\n    Capability[Capability[\"POLYGON_OFFSET_FILL\"] = 32823] = \"POLYGON_OFFSET_FILL\";\n    /**\n     *\n     */\n    Capability[Capability[\"SAMPLE_ALPHA_TO_COVERAGE\"] = 32926] = \"SAMPLE_ALPHA_TO_COVERAGE\";\n    /**\n     *\n     */\n    Capability[Capability[\"SAMPLE_COVERAGE\"] = 32928] = \"SAMPLE_COVERAGE\";\n})(Capability || (Capability = {}));\n","export var BlendingFactorSrc;\n(function (BlendingFactorSrc) {\n    BlendingFactorSrc[BlendingFactorSrc[\"ZERO\"] = 0] = \"ZERO\";\n    BlendingFactorSrc[BlendingFactorSrc[\"ONE\"] = 1] = \"ONE\";\n    BlendingFactorSrc[BlendingFactorSrc[\"DST_COLOR\"] = 774] = \"DST_COLOR\";\n    BlendingFactorSrc[BlendingFactorSrc[\"ONE_MINUS_DST_COLOR\"] = 775] = \"ONE_MINUS_DST_COLOR\";\n    BlendingFactorSrc[BlendingFactorSrc[\"SRC_ALPHA_SATURATE\"] = 776] = \"SRC_ALPHA_SATURATE\";\n    BlendingFactorSrc[BlendingFactorSrc[\"SRC_ALPHA\"] = 770] = \"SRC_ALPHA\";\n    BlendingFactorSrc[BlendingFactorSrc[\"ONE_MINUS_SRC_ALPHA\"] = 771] = \"ONE_MINUS_SRC_ALPHA\";\n    BlendingFactorSrc[BlendingFactorSrc[\"DST_ALPHA\"] = 772] = \"DST_ALPHA\";\n    BlendingFactorSrc[BlendingFactorSrc[\"ONE_MINUS_DST_ALPHA\"] = 773] = \"ONE_MINUS_DST_ALPHA\";\n})(BlendingFactorSrc || (BlendingFactorSrc = {}));\n","export var BlendingFactorDest;\n(function (BlendingFactorDest) {\n    BlendingFactorDest[BlendingFactorDest[\"ZERO\"] = 0] = \"ZERO\";\n    BlendingFactorDest[BlendingFactorDest[\"ONE\"] = 1] = \"ONE\";\n    BlendingFactorDest[BlendingFactorDest[\"SRC_COLOR\"] = 768] = \"SRC_COLOR\";\n    BlendingFactorDest[BlendingFactorDest[\"ONE_MINUS_SRC_COLOR\"] = 769] = \"ONE_MINUS_SRC_COLOR\";\n    BlendingFactorDest[BlendingFactorDest[\"SRC_ALPHA\"] = 770] = \"SRC_ALPHA\";\n    BlendingFactorDest[BlendingFactorDest[\"ONE_MINUS_SRC_ALPHA\"] = 771] = \"ONE_MINUS_SRC_ALPHA\";\n    BlendingFactorDest[BlendingFactorDest[\"DST_ALPHA\"] = 772] = \"DST_ALPHA\";\n    BlendingFactorDest[BlendingFactorDest[\"ONE_MINUS_DST_ALPHA\"] = 773] = \"ONE_MINUS_DST_ALPHA\";\n})(BlendingFactorDest || (BlendingFactorDest = {}));\n","/**\n * The enumerated modes of drawing WebGL primitives.\n *\n * https://www.khronos.org/registry/webgl/specs/1.0/\n */\nexport var BeginMode;\n(function (BeginMode) {\n    BeginMode[BeginMode[\"POINTS\"] = 0] = \"POINTS\";\n    BeginMode[BeginMode[\"LINES\"] = 1] = \"LINES\";\n    BeginMode[BeginMode[\"LINE_LOOP\"] = 2] = \"LINE_LOOP\";\n    BeginMode[BeginMode[\"LINE_STRIP\"] = 3] = \"LINE_STRIP\";\n    BeginMode[BeginMode[\"TRIANGLES\"] = 4] = \"TRIANGLES\";\n    BeginMode[BeginMode[\"TRIANGLE_STRIP\"] = 5] = \"TRIANGLE_STRIP\";\n    BeginMode[BeginMode[\"TRIANGLE_FAN\"] = 6] = \"TRIANGLE_FAN\";\n})(BeginMode || (BeginMode = {}));\n","import { readOnly } from '../i18n/readOnly';\n/**\n * An object-oriented representation of an <code>attribute</code> in a GLSL shader program.\n */\nvar Attrib = (function () {\n    /**\n     *\n     */\n    function Attrib(contextManager, info) {\n        /**\n         *\n         */\n        this.suppressWarnings = true;\n        this._name = info.name;\n    }\n    Object.defineProperty(Attrib.prototype, \"index\", {\n        /**\n         * Returns the cached index obtained by calling <code>getAttribLocation</code> on the\n         * <code>WebGLRenderingContext</code>.\n         */\n        get: function () {\n            return this._index;\n        },\n        set: function (unused) {\n            throw new Error(readOnly('index').message);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Notifies this <code>Attrib</code> of a browser free WebGL context event.\n     * This <code>Attrib</code> responds by setting its cached index and context to undefined.\n     */\n    Attrib.prototype.contextFree = function () {\n        // Nothing to deallocate. Just reflect notification in state variables.\n        // This is coincidentally the same as contextLost, but not appropriate for DRY.\n        this._index = void 0;\n        this._gl = void 0;\n    };\n    /**\n     * Notifies this <code>Attrib</code> of a browser gain WebGL context event.\n     * This <code>Attrib</code> responds by obtaining and caching attribute index.\n     *\n     * @param context\n     * @param program\n     */\n    Attrib.prototype.contextGain = function (context, program) {\n        this._index = context.getAttribLocation(program, this._name);\n        this._gl = context;\n    };\n    /**\n     * Notifies this <code>Attrib</code> of a browser lost WebGL context event.\n     * This <code>Attrib</code> responds by setting its cached index and context to undefined.\n     */\n    Attrib.prototype.contextLost = function () {\n        this._index = void 0;\n        this._gl = void 0;\n    };\n    /**\n     * Specifies the data formats and locations of vertex attributes in a vertex attributes array.\n     * Calls the <code>vertexAttribPointer</code> method\n     * on the underlying <code>WebGLRenderingContext</code>\n     * using the cached attribute index and the supplied parameters.\n     * Note that the <code>type</code> parameter is hard-code to <code>FLOAT</code>.\n     *\n     * @param size The number of components per attribute. Must be 1, 2, 3, or 4.\n     * @param type The data type of each component in the array.\n     * @param normalized Specifies whether fixed-point data values should be normalized (true), or are converted to fixed point vales (false) when accessed.\n     * @param stride The distance in bytes between the beginning of consecutive vertex attributes.\n     * @param offset The offset in bytes of the first component in the vertex attribute array. Must be a multiple of type.\n     */\n    Attrib.prototype.config = function (size, type, normalized, stride, offset) {\n        if (normalized === void 0) { normalized = false; }\n        if (stride === void 0) { stride = 0; }\n        if (offset === void 0) { offset = 0; }\n        // TODO: Notice that when this function is called, the cached index is used.\n        // This suggests that we should used the cached indices to to look up attributes\n        // when we are in the animation loop.\n        if (this._gl) {\n            this._gl.vertexAttribPointer(this._index, size, type, normalized, stride, offset);\n        }\n        else {\n            if (!this.suppressWarnings) {\n                console.warn(\"vertexAttribPointer(index = \" + this._index + \", size = \" + size + \", type = \" + type + \", normalized = \" + normalized + \", stride = \" + stride + \", offset = \" + offset + \")\");\n            }\n        }\n    };\n    /**\n     * Calls the <code>enableVertexAttribArray</code> method\n     * on the underlying <code>WebGLRenderingContext</code>\n     * using the cached attribute index.\n     */\n    Attrib.prototype.enable = function () {\n        if (this._gl) {\n            this._gl.enableVertexAttribArray(this._index);\n        }\n        else {\n            if (!this.suppressWarnings) {\n                console.warn(\"enableVertexAttribArray(index = \" + this._index + \")\");\n            }\n        }\n    };\n    /**\n     * Calls the <code>disableVertexAttribArray</code> method\n     * on the underlying <code>WebGLRenderingContext</code>\n     * using the cached attribute index.\n     */\n    Attrib.prototype.disable = function () {\n        if (this._gl) {\n            this._gl.disableVertexAttribArray(this._index);\n        }\n        else {\n            if (!this.suppressWarnings) {\n                console.warn(\"disableVertexAttribArray(index = \" + this._index + \")\");\n            }\n        }\n    };\n    /**\n     * Returns the address of the specified vertex attribute.\n     * Experimental.\n     */\n    Attrib.prototype.getOffset = function () {\n        if (this._gl) {\n            // The API docs don't permit the pname attribute to be anything other than VERTEX_ATTRIB_ARRAY_POINTER.\n            return this._gl.getVertexAttribOffset(this._index, this._gl.VERTEX_ATTRIB_ARRAY_POINTER);\n        }\n        else {\n            if (!this.suppressWarnings) {\n                console.warn(\"getVertexAttribOffset(index = \" + this._index + \", VERTEX_ATTRIB_ARRAY_POINTER)\");\n            }\n            return void 0;\n        }\n    };\n    /**\n     * Returns a non-normative string representation of the GLSL attribute.\n     */\n    Attrib.prototype.toString = function () {\n        return ['attribute', this._name].join(' ');\n    };\n    return Attrib;\n}());\nexport { Attrib };\n","import * as tslib_1 from \"tslib\";\nimport { mustBeNumber } from '../checks/mustBeNumber';\nimport { ShareableBase } from '../core/ShareableBase';\n/**\n * enable(capability: Capability): void\n */\nvar WebGLEnable = (function (_super) {\n    tslib_1.__extends(WebGLEnable, _super);\n    function WebGLEnable(contextManager, capability) {\n        var _this = _super.call(this) || this;\n        _this.contextManager = contextManager;\n        _this.setLoggingName('WebGLEnable');\n        _this._capability = mustBeNumber('capability', capability);\n        return _this;\n    }\n    WebGLEnable.prototype.destructor = function (levelUp) {\n        this._capability = void 0;\n        _super.prototype.destructor.call(this, levelUp + 1);\n    };\n    WebGLEnable.prototype.contextFree = function () {\n        // do nothing\n    };\n    WebGLEnable.prototype.contextGain = function () {\n        this.contextManager.gl.enable(this._capability);\n    };\n    WebGLEnable.prototype.contextLost = function () {\n        // do nothing\n    };\n    return WebGLEnable;\n}(ShareableBase));\nexport { WebGLEnable };\n","import * as tslib_1 from \"tslib\";\nimport { mustBeNumber } from '../checks/mustBeNumber';\nimport { ShareableBase } from '../core/ShareableBase';\n/**\n * disable(capability: Capability): void\n */\nvar WebGLDisable = (function (_super) {\n    tslib_1.__extends(WebGLDisable, _super);\n    function WebGLDisable(contextManager, capability) {\n        var _this = _super.call(this) || this;\n        _this.contextManager = contextManager;\n        _this.setLoggingName('WebGLDisable');\n        _this._capability = mustBeNumber('capability', capability);\n        return _this;\n    }\n    WebGLDisable.prototype.destructor = function (levelUp) {\n        this._capability = void 0;\n        _super.prototype.destructor.call(this, levelUp + 1);\n    };\n    WebGLDisable.prototype.contextFree = function () {\n        // do nothing\n    };\n    WebGLDisable.prototype.contextGain = function () {\n        this.contextManager.gl.disable(this._capability);\n    };\n    WebGLDisable.prototype.contextLost = function () {\n        // do nothing\n    };\n    return WebGLDisable;\n}(ShareableBase));\nexport { WebGLDisable };\n","import * as tslib_1 from \"tslib\";\nimport { mustBeNumber } from '../checks/mustBeNumber';\nimport { ShareableBase } from '../core/ShareableBase';\nvar WebGLClearColor = (function (_super) {\n    tslib_1.__extends(WebGLClearColor, _super);\n    function WebGLClearColor(contextManager, r, g, b, a) {\n        if (r === void 0) { r = 0; }\n        if (g === void 0) { g = 0; }\n        if (b === void 0) { b = 0; }\n        if (a === void 0) { a = 1; }\n        var _this = _super.call(this) || this;\n        _this.contextManager = contextManager;\n        _this.setLoggingName('WebGLClearColor');\n        _this.r = mustBeNumber('r', r);\n        _this.g = mustBeNumber('g', g);\n        _this.b = mustBeNumber('b', b);\n        _this.a = mustBeNumber('a', a);\n        return _this;\n    }\n    /**\n     *\n     */\n    WebGLClearColor.prototype.destructor = function (levelUp) {\n        this.r = void 0;\n        this.g = void 0;\n        this.b = void 0;\n        this.a = void 0;\n        _super.prototype.destructor.call(this, levelUp + 1);\n    };\n    WebGLClearColor.prototype.contextFree = function () {\n        // Do nothing;\n    };\n    WebGLClearColor.prototype.contextGain = function () {\n        mustBeNumber('r', this.r);\n        mustBeNumber('g', this.g);\n        mustBeNumber('b', this.b);\n        mustBeNumber('a', this.a);\n        this.contextManager.gl.clearColor(this.r, this.g, this.b, this.a);\n    };\n    WebGLClearColor.prototype.contextLost = function () {\n        // Do nothing;\n    };\n    return WebGLClearColor;\n}(ShareableBase));\nexport { WebGLClearColor };\n","import { mustSatisfy } from '../checks/mustSatisfy';\nimport { isNumber } from '../checks/isNumber';\nfunction beANumber() {\n    return \"be a `number`\";\n}\nexport function mustBeNumber(name, value, contextBuilder) {\n    mustSatisfy(name, isNumber(value), beANumber, contextBuilder);\n    return value;\n}\n","import * as tslib_1 from \"tslib\";\nimport { ShareableBase } from '../core/ShareableBase';\nvar WebGLBlendFunc = (function (_super) {\n    tslib_1.__extends(WebGLBlendFunc, _super);\n    function WebGLBlendFunc(contextManager, sfactor, dfactor) {\n        var _this = _super.call(this) || this;\n        _this.contextManager = contextManager;\n        _this.setLoggingName('WebGLBlendFunc');\n        _this.sfactor = sfactor;\n        _this.dfactor = dfactor;\n        return _this;\n    }\n    WebGLBlendFunc.prototype.destructor = function (levelUp) {\n        this.sfactor = void 0;\n        this.dfactor = void 0;\n        _super.prototype.destructor.call(this, levelUp + 1);\n    };\n    WebGLBlendFunc.prototype.contextFree = function () {\n        // do nothing\n    };\n    WebGLBlendFunc.prototype.contextGain = function () {\n        this.execute(this.contextManager.gl);\n    };\n    WebGLBlendFunc.prototype.contextLost = function () {\n        // do nothing\n    };\n    WebGLBlendFunc.prototype.execute = function (gl) {\n        gl.blendFunc(this.sfactor, this.dfactor);\n    };\n    return WebGLBlendFunc;\n}(ShareableBase));\nexport { WebGLBlendFunc };\n","import { isDefined } from '../checks/isDefined';\nimport { mustBeEQ } from '../checks/mustBeEQ';\nimport { mustBeInteger } from '../checks/mustBeInteger';\nimport { mustBeString } from '../checks/mustBeString';\nimport { readOnly } from '../i18n/readOnly';\nimport { refChange } from './refChange';\nimport { uuid4 } from './uuid4';\n/**\n * <p>\n * Convenient base class for derived classes implementing <code>Shareable</code>.\n * </p>\n *\n *\n *     class MyShareableClass extends ShareableBase {\n *       constructor() {\n *         // First thing you do is call super to invoke constructors up the chain.\n *         super()\n *         // Setting the logging name is both a good practice and increments the tally\n *         // of constructors in the constructor chain. The runtime architecture will\n *         // verify that the number of destructor calls matches these logging name calls.\n *         this.setLoggingName('MyShareableClass')\n *         // Finally, your initialization code here.\n *         // addRef and shared resources, maybe create owned resources.\n *       }\n *       protected destructor(levelUp: number): void {\n *         // Firstly, your termination code here.\n *         // Release any shared resources and/or delete any owned resources.\n *         // Last thing you do is to call the super destructor, incrementing the level.\n *         // The runtime architecture will verify that the destructor count matches the\n *         // constructor count.\n *         super.destructor(levelUp + 1)\n *       }\n *     }\n *\n */\nvar ShareableBase = (function () {\n    /**\n     *\n     */\n    function ShareableBase() {\n        /**\n         * The unique identifier used for reference count monitoring.\n         */\n        this._uuid = uuid4().generate();\n        this._type = 'ShareableBase';\n        this._levelUp = 0;\n        this._refCount = 1;\n        refChange(this._uuid, this._type, +1);\n    }\n    /**\n     * Experimental\n     *\n     * restore (a zombie) to life.\n     */\n    ShareableBase.prototype.resurrector = function (levelUp, grumble) {\n        if (grumble === void 0) { grumble = false; }\n        if (grumble) {\n            throw new Error(\"`protected resurrector(levelUp: number): void` method should be implemented by `\" + this._type + \"`.\");\n        }\n        this._levelUp = 0;\n        this._refCount = 1;\n        refChange(this._uuid, this._type, +1);\n    };\n    /**\n     * <p>\n     * Outputs a warning to the console that this method should be implemented by the derived class.\n     * </p>\n     * <p>\n     * <em>This method should be implemented by derived classes.</em>\n     * </p>\n     * <p>\n     * <em>Not implementing this method in a derived class risks leaking resources allocated by the derived class.</em>\n     * </p>\n     *\n     * @param levelUp A number that should be incremented for each destructor call.\n     */\n    ShareableBase.prototype.destructor = function (levelUp, grumble) {\n        if (grumble === void 0) { grumble = false; }\n        mustBeInteger('levelUp', levelUp);\n        mustBeEQ(this._type + \" constructor-destructor chain mismatch: destructor index \" + levelUp, levelUp, this._levelUp);\n        if (grumble) {\n            console.warn(\"`protected destructor(): void` method should be implemented by `\" + this._type + \"`.\");\n        }\n        // This is the sentinel that this destructor was eventually called.\n        // We can check this invariant in the final release method.\n        this._levelUp = void 0;\n    };\n    Object.defineProperty(ShareableBase.prototype, \"levelUp\", {\n        /**\n         * Returns the total length of the inheritance hierarchy that this instance is involved in.\n         */\n        get: function () {\n            return this._levelUp;\n        },\n        set: function (levelUp) {\n            // The only way the level gets changed is through setLoggingName.\n            throw new Error(readOnly('levelUp').message);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * An object is a zombie if it has been released by all who have held references.\n     * In some cases it may be possible to recycle a zombie.\n     */\n    ShareableBase.prototype.isZombie = function () {\n        return typeof this._refCount === 'undefined';\n    };\n    /**\n     * <p>\n     * Notifies this instance that something is referencing it.\n     * </p>\n     *\n     * @returns The new value of the reference count.\n     */\n    ShareableBase.prototype.addRef = function () {\n        if (this.isZombie()) {\n            this.resurrector(0, true);\n            return this._refCount;\n        }\n        else {\n            this._refCount++;\n            refChange(this._uuid, this._type, +1);\n            return this._refCount;\n        }\n    };\n    /**\n     * Returns the name that was assigned by the call to the setLoggingName method.\n     */\n    ShareableBase.prototype.getLoggingName = function () {\n        return this._type;\n    };\n    /**\n     * This method is for use within constructors.\n     *\n     * Immediately after a call to the super class constructor, make a call to setLoggingName.\n     * This will have the effect of refining the name used for reporting reference counts.\n     *\n     * This method has the secondary purpose of enabling a tally of the number of classes\n     * in the constructor chain. This enables the runtime architecture to verify that destructor\n     * chains are consistent with constructor chains, which is a good practice for cleaning up resources.\n     *\n     * Notice that this method is intentionally protected to discourage it from being called outside of the constructor.\n     *\n     * @param name This will usually be set to the name of the class.\n     */\n    ShareableBase.prototype.setLoggingName = function (name) {\n        this._type = mustBeString('name', name);\n        this._levelUp += 1;\n        // Update the name used by the reference count tracking.\n        refChange(this._uuid, name, +1);\n        refChange(this._uuid, name, -1);\n    };\n    /**\n     * <p>\n     * Notifies this instance that something is dereferencing it.\n     * </p>\n     *\n     * @returns The new value of the reference count.\n     */\n    ShareableBase.prototype.release = function () {\n        this._refCount--;\n        refChange(this._uuid, this._type, -1);\n        var refCount = this._refCount;\n        if (refCount === 0) {\n            // destructor called with `true` means grumble if the method has not been overridden.\n            // The following will call the most derived class first, if such a destructor exists.\n            this.destructor(0, true);\n            // refCount is used to indicate zombie status so let that go to undefined.\n            this._refCount = void 0;\n            // Keep the type and uuid around for debugging reference count problems.\n            // this._type = void 0\n            // this._uuid = void 0\n            if (isDefined(this._levelUp)) {\n                throw new Error(this._type + \".destructor method is not calling all the way up the chain.\");\n            }\n        }\n        return refCount;\n    };\n    Object.defineProperty(ShareableBase.prototype, \"uuid\", {\n        get: function () {\n            return this._uuid;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return ShareableBase;\n}());\nexport { ShareableBase };\n","export function uuid4() {\n    var maxFromBits = function (bits) {\n        return Math.pow(2, bits);\n    };\n    var limitUI06 = maxFromBits(6);\n    var limitUI08 = maxFromBits(8);\n    var limitUI12 = maxFromBits(12);\n    var limitUI16 = maxFromBits(16);\n    var limitUI32 = maxFromBits(32);\n    var getRandomInt = function (min, max) {\n        return Math.floor(Math.random() * (max - min + 1)) + min;\n    };\n    var randomUI06 = function () {\n        return getRandomInt(0, limitUI06 - 1);\n    };\n    var randomUI08 = function () {\n        return getRandomInt(0, limitUI08 - 1);\n    };\n    var randomUI12 = function () {\n        return getRandomInt(0, limitUI12 - 1);\n    };\n    var randomUI16 = function () {\n        return getRandomInt(0, limitUI16 - 1);\n    };\n    var randomUI32 = function () {\n        return getRandomInt(0, limitUI32 - 1);\n    };\n    var randomUI48 = function () {\n        return (0 | Math.random() * (1 << 30)) + (0 | Math.random() * (1 << 48 - 30)) * (1 << 30);\n    };\n    var paddedString = function (str, length, z) {\n        str = String(str);\n        z = (!z) ? '0' : z;\n        var i = length - str.length;\n        for (; i > 0; i >>>= 1, z += z) {\n            if (i & 1) {\n                str = z + str;\n            }\n        }\n        return str;\n    };\n    var fromParts = function (timeLow, timeMid, timeHiAndVersion, clockSeqHiAndReserved, clockSeqLow, node) {\n        var hex = paddedString(timeLow.toString(16), 8) +\n            '-' +\n            paddedString(timeMid.toString(16), 4) +\n            '-' +\n            paddedString(timeHiAndVersion.toString(16), 4) +\n            '-' +\n            paddedString(clockSeqHiAndReserved.toString(16), 2) +\n            paddedString(clockSeqLow.toString(16), 2) +\n            '-' +\n            paddedString(node.toString(16), 12);\n        return hex;\n    };\n    return {\n        generate: function () {\n            return fromParts(randomUI32(), randomUI16(), 0x4000 | randomUI12(), 0x80 | randomUI06(), randomUI08(), randomUI48());\n        },\n        // addition by Ka-Jan to test for validity\n        // Based on: http://stackoverflow.com/questions/7905929/how-to-test-valid-uuid-guid\n        validate: function (uuid) {\n            var testPattern = /^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;\n            return testPattern.test(uuid);\n        }\n    };\n}\n","import { isDefined } from '../checks/isDefined';\nvar statistics = {};\nvar chatty = true;\nvar skip = true;\nvar trace = false;\nvar traceName = void 0;\nvar LOGGING_NAME_REF_CHANGE = 'refChange';\nfunction prefix(message) {\n    return LOGGING_NAME_REF_CHANGE + \": \" + message;\n}\nfunction log(message) {\n    return console.log(prefix(message));\n}\nfunction warn(message) {\n    return console.warn(prefix(message));\n}\nfunction error(message) {\n    return console.error(prefix(message));\n}\nfunction garbageCollect() {\n    var uuids = Object.keys(statistics);\n    uuids.forEach(function (uuid) {\n        var element = statistics[uuid];\n        if (element.refCount === 0) {\n            delete statistics[uuid];\n        }\n    });\n}\nfunction computeOutstanding() {\n    var uuids = Object.keys(statistics);\n    var uuidsLength = uuids.length;\n    var total = 0;\n    for (var i = 0; i < uuidsLength; i++) {\n        var uuid = uuids[i];\n        var statistic = statistics[uuid];\n        total += statistic.refCount;\n    }\n    return total;\n}\nfunction stop() {\n    if (skip) {\n        warn(\"Nothing to see because skip mode is \" + skip);\n    }\n    garbageCollect();\n    return computeOutstanding();\n}\nfunction outstandingMessage(outstanding) {\n    return \"There are \" + outstanding + \" outstanding reference counts.\";\n}\nfunction dump() {\n    var outstanding = stop();\n    if (outstanding > 0) {\n        console.warn(\"Memory Leak!\");\n        console.warn(outstandingMessage(outstanding));\n        console.warn(JSON.stringify(statistics, null, 2));\n    }\n    else {\n        if (chatty) {\n            console.log(outstandingMessage(outstanding));\n        }\n    }\n    return outstanding;\n}\nexport function refChange(uuid, name, change) {\n    if (change === void 0) { change = 0; }\n    if (change !== 0 && skip) {\n        return void 0;\n    }\n    if (trace) {\n        if (traceName) {\n            if (name === traceName) {\n                var element = statistics[uuid];\n                if (element) {\n                    log(change + \" on \" + uuid + \" @ \" + name);\n                }\n                else {\n                    log(change + \" on \" + uuid + \" @ \" + name);\n                }\n            }\n        }\n        else {\n            // trace everything\n            log(change + \" on \" + uuid + \" @ \" + name);\n        }\n    }\n    if (change === +1) {\n        var element = statistics[uuid];\n        if (!element) {\n            element = { refCount: 0, name: name, zombie: false };\n            statistics[uuid] = element;\n        }\n        else {\n            // It's more efficient to synchronize the name than by using a change of zero.\n            element.name = name;\n        }\n        element.refCount += change;\n    }\n    else if (change === -1) {\n        var element = statistics[uuid];\n        if (element) {\n            element.refCount += change;\n            if (element.refCount === 0) {\n                element.zombie = true;\n            }\n            else if (element.refCount < 0) {\n                error(\"refCount < 0 for \" + name);\n            }\n        }\n        else {\n            error(change + \" on \" + uuid + \" @ \" + name);\n        }\n    }\n    else if (change === 0) {\n        // When the value of change is zero, the uuid is either a command or a method on an exisiting uuid.\n        var message = isDefined(name) ? uuid + \" @ \" + name : uuid;\n        if (uuid === 'stop') {\n            if (chatty) {\n                log(message);\n            }\n            return stop();\n        }\n        else {\n            if (uuid === 'dump') {\n                return dump();\n            }\n            else if (uuid === 'verbose') {\n                chatty = true;\n            }\n            else if (uuid === 'quiet') {\n                chatty = false;\n            }\n            else if (uuid === 'start') {\n                if (chatty) {\n                    log(message);\n                }\n                skip = false;\n                trace = false;\n            }\n            else if (uuid === 'reset') {\n                if (chatty) {\n                    log(message);\n                }\n                statistics = {};\n                chatty = true;\n                skip = true;\n                trace = false;\n                traceName = void 0;\n            }\n            else if (uuid === 'trace') {\n                if (chatty) {\n                    log(message);\n                }\n                skip = false;\n                trace = true;\n                traceName = name;\n            }\n            else {\n                throw new Error(prefix(\"Unexpected command uuid => \" + uuid + \", name => \" + name));\n            }\n        }\n    }\n    else {\n        throw new Error(prefix(\"change must be +1 or -1 for normal recording, or 0 for logging to the console.\"));\n    }\n    return void 0;\n}\n","import { mustBeString } from '../checks/mustBeString';\nexport function readOnly(name) {\n    mustBeString('name', name);\n    var message = {\n        get message() {\n            return \"Property `\" + name + \"` is readonly.\";\n        }\n    };\n    return message;\n}\n","import { mustSatisfy } from '../checks/mustSatisfy';\nimport { isString } from '../checks/isString';\nfunction beAString() {\n    return \"be a string\";\n}\nexport function mustBeString(name, value, contextBuilder) {\n    mustSatisfy(name, isString(value), beAString, contextBuilder);\n    return value;\n}\n","export function isString(s) {\n    return (typeof s === 'string');\n}\n","import { mustSatisfy } from '../checks/mustSatisfy';\nimport { isInteger } from '../checks/isInteger';\nfunction beAnInteger() {\n    return \"be an integer\";\n}\nexport function mustBeInteger(name, value, contextBuilder) {\n    mustSatisfy(name, isInteger(value), beAnInteger, contextBuilder);\n    return value;\n}\n","import { isNumber } from '../checks/isNumber';\nexport function isInteger(x) {\n    // % coerces its operand to numbers so a typeof test is required.\n    // Note that ECMAScript 6 provides Number.isInteger().\n    return isNumber(x) && x % 1 === 0;\n}\n","export function isNumber(x) {\n    return (typeof x === 'number');\n}\n","import { mustSatisfy } from './mustSatisfy';\nimport { isEQ } from './isEQ';\nexport function mustBeEQ(name, value, limit, contextBuilder) {\n    mustSatisfy(name, isEQ(value, limit), function () { return \"be equal to \" + limit; }, contextBuilder);\n    return value;\n}\n","export function isEQ(value, limit) {\n    return value === limit;\n}\n","/**\n * throws name + \" must \" + message + [\" in \" + context] + \".\"\n */\nexport function mustSatisfy(name, condition, messageBuilder, contextBuilder) {\n    if (!condition) {\n        var message = messageBuilder ? messageBuilder() : \"satisfy some condition\";\n        var context = contextBuilder ? \" in \" + contextBuilder() : \"\";\n        throw new Error(name + \" must \" + message + context + \".\");\n    }\n}\n","export function isDefined(arg) {\n    return (typeof arg !== 'undefined');\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = Object.setPrototypeOf ||\r\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = Object.assign || function __assign(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n    }\r\n    return t;\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator.throw(value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);  }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { if (o[n]) i[n] = function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; }; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator];\r\n    return m ? m.call(o) : typeof __values === \"function\" ? __values(o) : o[Symbol.iterator]();\r\n}"],"names":["TextureTarget","tslib_1.__extends","DataType","ClearBufferMask","Usage","PixelType","PixelFormat","DepthFunction","Capability","BlendingFactorSrc","BlendingFactorDest","BeginMode","beObject","TextureWrapMode","TextureMinFilter","TextureMagFilter","TextureParameterName","error"],"mappings":"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"}